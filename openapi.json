{
  "openapi": "3.0.0",
  "paths": {
    "/audits": {
      "get": {
        "description": "Retrieve audit logs with support for filtering by date range, action type, entity type, user ID, and role. Supports pagination and sorting.",
        "operationId": "AuditController_findAll",
        "parameters": [
          {
            "name": "from",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO 8601 format)",
            "schema": { "example": "2023-01-01T00:00:00Z", "type": "string" }
          },
          {
            "name": "to",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO 8601 format)",
            "schema": { "example": "2023-12-31T23:59:59Z", "type": "string" }
          },
          {
            "name": "actionType",
            "required": false,
            "in": "query",
            "description": "Filter by action type",
            "schema": {
              "enum": [
                "LOGIN",
                "LOGOUT",
                "LOGIN_FAILED",
                "PASSWORD_CHANGED",
                "PASSWORD_RESET",
                "CREATE",
                "UPDATE",
                "DELETE",
                "ROLE_CHANGED",
                "PERMISSION_CHANGED",
                "STATUS_CHANGED",
                "INVENTORY_ADJUSTED",
                "BATCH_ASSIGNED",
                "REPORT_EXPORTED",
                "DATA_EXPORTED",
                "SALE_CREATED",
                "SALE_UPDATED",
                "SALE_CANCELLED",
                "CONFIGURATION_CHANGED",
                "SYSTEM_ACTION",
                "USER_CREATED",
                "USER_UPDATED",
                "USER_DELETED",
                "USER_DEACTIVATED",
                "USER_ACTIVATED"
              ],
              "type": "string"
            }
          },
          {
            "name": "entityType",
            "required": false,
            "in": "query",
            "description": "Filter by entity type",
            "schema": {
              "enum": [
                "USER",
                "PRODUCT",
                "BATCH",
                "INVENTORY",
                "SALE",
                "CHECKOUT",
                "CART",
                "COOPERATIVE",
                "COOPERATIVE_MEMBER",
                "CUSTOMER",
                "REPORT",
                "SYSTEM",
                "CONFIGURATION",
                "AUTHENTICATION"
              ],
              "type": "string"
            }
          },
          {
            "name": "userId",
            "required": false,
            "in": "query",
            "description": "Filter by user ID who performed the action",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          },
          {
            "name": "role",
            "required": false,
            "in": "query",
            "description": "Filter by user role",
            "schema": { "enum": ["user", "admin", "superadmin"], "type": "string" }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number (starts from 1)",
            "schema": { "minimum": 1, "default": 1, "example": 1, "type": "number" }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of items per page",
            "schema": { "minimum": 1, "default": 20, "example": 20, "type": "number" }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order (ASC or DESC)",
            "schema": { "$ref": "#/components/schemas/Object" }
          },
          {
            "required": false,
            "description": "Start date for filtering (ISO 8601 format)",
            "name": "from",
            "in": "query",
            "schema": { "example": "2023-01-01T00:00:00Z" }
          },
          {
            "required": false,
            "description": "End date for filtering (ISO 8601 format)",
            "name": "to",
            "in": "query",
            "schema": { "example": "2023-12-31T23:59:59Z" }
          },
          {
            "required": false,
            "description": "Filter by action type",
            "name": "actionType",
            "in": "query",
            "schema": {
              "enum": [
                "LOGIN",
                "LOGOUT",
                "LOGIN_FAILED",
                "PASSWORD_CHANGED",
                "PASSWORD_RESET",
                "CREATE",
                "UPDATE",
                "DELETE",
                "ROLE_CHANGED",
                "PERMISSION_CHANGED",
                "STATUS_CHANGED",
                "INVENTORY_ADJUSTED",
                "BATCH_ASSIGNED",
                "REPORT_EXPORTED",
                "DATA_EXPORTED",
                "SALE_CREATED",
                "SALE_UPDATED",
                "SALE_CANCELLED",
                "CONFIGURATION_CHANGED",
                "SYSTEM_ACTION",
                "USER_CREATED",
                "USER_UPDATED",
                "USER_DELETED",
                "USER_DEACTIVATED",
                "USER_ACTIVATED"
              ],
              "type": "string"
            }
          },
          {
            "required": false,
            "description": "Filter by entity type",
            "name": "entityType",
            "in": "query",
            "schema": {
              "enum": [
                "USER",
                "PRODUCT",
                "BATCH",
                "INVENTORY",
                "SALE",
                "CHECKOUT",
                "CART",
                "COOPERATIVE",
                "COOPERATIVE_MEMBER",
                "CUSTOMER",
                "REPORT",
                "SYSTEM",
                "CONFIGURATION",
                "AUTHENTICATION"
              ],
              "type": "string"
            }
          },
          {
            "required": false,
            "description": "Filter by user ID who performed the action",
            "name": "userId",
            "in": "query",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000" }
          },
          {
            "required": false,
            "description": "Filter by user role",
            "name": "role",
            "in": "query",
            "schema": { "enum": ["user", "admin", "superadmin"], "type": "string" }
          },
          {
            "required": false,
            "description": "Page number (starts from 1)",
            "name": "page",
            "in": "query",
            "schema": { "minimum": 1, "default": 1, "example": 1 }
          },
          {
            "required": false,
            "description": "Number of items per page",
            "name": "limit",
            "in": "query",
            "schema": { "minimum": 1, "default": 20, "example": 20 }
          },
          {
            "required": false,
            "description": "Sort order (ASC or DESC)",
            "name": "sortOrder",
            "in": "query",
            "schema": { "default": "DESC", "example": "DESC" }
          }
        ],
        "responses": {
          "200": {
            "description": "Audit logs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/AuditLogResponseDto" }
                }
              }
            }
          }
        },
        "summary": "Fetch audit logs (Super Admin Only)",
        "tags": ["audit"]
      }
    },
    "/audits/{id}": {
      "get": {
        "description": "Retrieve full details of a specific audit log including metadata with before/after values where available.",
        "operationId": "AuditController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Audit Log ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Audit log retrieved successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AuditLogResponseDto" }
              }
            }
          }
        },
        "summary": "Fetch audit log details (Super Admin Only)",
        "tags": ["audit"]
      }
    },
    "/audits/stats/overview": {
      "get": {
        "description": "Retrieve statistics about audit logs including action type distribution, entity type distribution, and top users.",
        "operationId": "AuditController_getStatistics",
        "parameters": [
          {
            "name": "from",
            "required": false,
            "in": "query",
            "description": "Start date (ISO 8601 format)",
            "schema": { "type": "string" }
          },
          {
            "name": "to",
            "required": false,
            "in": "query",
            "description": "End date (ISO 8601 format)",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "Audit statistics retrieved successfully" } },
        "summary": "Get audit statistics (Super Admin Only)",
        "tags": ["audit"]
      }
    },
    "/authentication/sign-up": {
      "post": {
        "description": "Creates a new user account and sends a verification email",
        "operationId": "AuthenticationController_register",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/RegisterUserDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "User registration successful",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/AuthResponseDto" } }
            }
          },
          "400": {
            "description": "Bad request - validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "409": {
            "description": "User with email already exists",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "summary": "Register a new user",
        "tags": ["Authentication"]
      }
    },
    "/authentication/verify-phone/{id}": {
      "post": {
        "description": "Verifies user phone number using OTP code",
        "operationId": "AuthenticationController_verifyPhone",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/VerifyPhoneDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Phone verification successful",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PhoneVerificationResponseDto" }
              }
            }
          },
          "201": { "description": "" },
          "400": {
            "description": "Bad request - invalid OTP code or validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - invalid or missing token",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "409": {
            "description": "User with phone number already exists",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Verify phone number",
        "tags": ["Authentication"]
      }
    },
    "/authentication/customer-signup": {
      "post": {
        "description": "Register a new customer account with email verification. If sessionId is provided, guest cart items will be synced when email is verified.",
        "operationId": "AuthenticationController_customerSignup",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/RegisterUserDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Customer account created, verification email sent",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CustomerSignupResponseDto" }
              }
            }
          },
          "400": {
            "description": "Bad request - validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "409": {
            "description": "User with email already exists",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "summary": "Customer signup",
        "tags": ["Authentication"]
      }
    },
    "/authentication/login": {
      "post": {
        "description": "Authenticates user credentials and returns a success message with user data and access token in the response body. Sets a refresh token in an HTTP-only cookie for session persistence. Logs the login event for audit purposes. If sessionId is provided, synchronizes guest cart items with the user's cart.",
        "operationId": "AuthenticationController_signIn",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/SignInDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful. Returns user data and access token in response body. Refresh token is set in HTTP-only cookie.",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/LoginResponseDto" } }
            }
          },
          "201": {
            "description": "Login successful. Returns user data and access token in response body. Refresh token is set in HTTP-only cookie.",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/LoginResponseDto" } }
            }
          },
          "400": {
            "description": "Bad request - validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "401": {
            "description": "Invalid email or password",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "403": {
            "description": "Account is inactive or suspended",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "summary": "User login",
        "tags": ["Authentication"]
      }
    },
    "/authentication/forgot-password": {
      "post": {
        "description": "Sends a password reset link to the user's email",
        "operationId": "AuthenticationController_forgotPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ForgotPasswordDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset email sent successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PasswordResetEmailResponseDto" }
              }
            }
          },
          "201": { "description": "" },
          "400": {
            "description": "Bad request - validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "404": {
            "description": "User with email does not exist",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "summary": "Request password reset",
        "tags": ["Authentication"]
      }
    },
    "/authentication/reset-password": {
      "post": {
        "description": "Resets user password using the reset token from email",
        "operationId": "AuthenticationController_resetPassword",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ResetPasswordDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PasswordResetResponseDto" }
              }
            }
          },
          "201": { "description": "" },
          "400": {
            "description": "Bad request - passwords do not match or validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "404": {
            "description": "User not found or invalid token",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "410": {
            "description": "Reset token has expired",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "summary": "Reset password",
        "tags": ["Authentication"]
      }
    },
    "/authentication/verify/{id}/{token}": {
      "get": {
        "description": "Verifies user email using the verification token from email and logs the user in. Returns user data and access token in response body, and sets refresh token in HTTP-only cookie. If sessionId is provided, guest cart items will be synced with user cart.",
        "operationId": "AuthenticationController_emailVerification",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": { "type": "string" }
          },
          {
            "name": "token",
            "required": true,
            "in": "path",
            "description": "Verification token",
            "schema": { "type": "string" }
          },
          { "name": "sessionId", "required": true, "in": "query", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Email verification successful. Returns user data and access token in response body. Refresh token is set in HTTP-only cookie.",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/LoginResponseDto" } }
            }
          },
          "401": {
            "description": "Token does not exist or has expired",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "summary": "Verify email address",
        "tags": ["Authentication"]
      }
    },
    "/authentication/refresh-token": {
      "post": {
        "description": "Generates new access token in response body and refresh token in HTTP-only cookie using the refresh token from cookies. Implements token rotation for security.",
        "operationId": "AuthenticationController_refreshToken",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Tokens refreshed successfully, accessToken returned in body, refreshToken set in cookie (1day)",
            "content": { "application/json": { "schema": { "type": "string" } } }
          },
          "201": {
            "description": "",
            "content": { "application/json": { "schema": { "type": "string" } } }
          },
          "401": {
            "description": "Invalid, expired, or missing refresh token",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Refresh access token",
        "tags": ["Authentication"]
      }
    },
    "/authentication/logout": {
      "post": {
        "description": "Invalidates the current session, clears authentication cookies, and logs the logout event in audit logs",
        "operationId": "AuthenticationController_logout",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Logged out successfully, cookies cleared",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/LogoutResponseDto" } }
            }
          },
          "201": { "description": "" },
          "401": {
            "description": "Unauthorized - not logged in",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "User logout",
        "tags": ["Authentication"]
      }
    },
    "/authentication/create-admin": {
      "post": {
        "description": "Creates a new admin user account with auto-generated password. Credentials are sent via email. Only Super Admin can create admin accounts.",
        "operationId": "AuthenticationController_createAdmin",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/CreateAdminDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Admin account created successfully, credentials sent to email",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AdminCreationResponseDto" }
              }
            }
          },
          "400": {
            "description": "Bad request - email must be @maltitiaenterprise.com or validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - not logged in",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "403": {
            "description": "Forbidden - requires Super Admin role",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "409": {
            "description": "User with email already exists",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Create admin user (Super Admin only)",
        "tags": ["Authentication"]
      }
    },
    "/authentication/change-password/{id}": {
      "post": {
        "description": "Changes user password. Requires current password for validation. Updates mustChangePassword flag to false.",
        "operationId": "AuthenticationController_changePassword",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ChangePasswordDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Password changed successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PasswordChangeResponseDto" }
              }
            }
          },
          "201": { "description": "" },
          "400": {
            "description": "Bad request - passwords do not match, current password is incorrect, or validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - not logged in",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Change password",
        "tags": ["Authentication"]
      }
    },
    "/authentication/resend-verification": {
      "post": {
        "description": "Resends the email verification link to the user's email address. Creates a new verification token and sends a new verification email.",
        "operationId": "AuthenticationController_resendVerificationEmail",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ResendVerificationDto" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Verification email resent successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ResendVerificationResponseDto" }
              }
            }
          },
          "201": { "description": "" },
          "400": {
            "description": "Bad request - email already verified or validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "404": {
            "description": "User with email does not exist",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "summary": "Resend verification email",
        "tags": ["Authentication"]
      }
    },
    "/users": {
      "get": {
        "operationId": "UsersController_findAll",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Users retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/UserResponseDto" }
                }
              }
            }
          }
        },
        "summary": "Get all users",
        "tags": ["users"]
      }
    },
    "/users/{id}": {
      "get": {
        "operationId": "UsersController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "User retrieved successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/UserResponseDto" } }
            }
          }
        },
        "summary": "Get a user by ID",
        "tags": ["users"]
      },
      "patch": {
        "operationId": "UsersController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UpdateUserDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "User updated successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/UserResponseDto" } }
            }
          }
        },
        "summary": "Update a user",
        "tags": ["users"]
      },
      "delete": {
        "operationId": "UsersController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "User deleted successfully" } },
        "summary": "Delete a user",
        "tags": ["users"]
      }
    },
    "/users/{id}/status": {
      "patch": {
        "operationId": "UsersController_changeStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ChangeStatusDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "User status changed successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/UserResponseDto" } }
            }
          }
        },
        "summary": "Change user status",
        "tags": ["users"]
      }
    },
    "/users/{id}/role": {
      "patch": {
        "operationId": "UsersController_changeRole",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "User ID",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ChangeRoleDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "User role changed successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/UserResponseDto" } }
            }
          }
        },
        "summary": "Change user role",
        "tags": ["users"]
      }
    },
    "/cooperative/cooperatives": {
      "get": {
        "operationId": "CooperativeController_getAllCooperatives",
        "parameters": [],
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/cooperative/{id}": {
      "get": {
        "operationId": "CooperativeController_getCooperative",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/add-cooperative": {
      "post": {
        "operationId": "CooperativeController_addCooperative",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AddCooperativeDto" } }
          }
        },
        "responses": { "201": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/edit-cooperative": {
      "patch": {
        "operationId": "CooperativeController_editCooperative",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/EditCooperativeDto" } }
          }
        },
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/delete-cooperative/{id}": {
      "delete": {
        "operationId": "CooperativeController_deleteCooperative",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/members": {
      "get": {
        "operationId": "CooperativeController_getAllCooperativeMembers",
        "parameters": [],
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/member/{id}": {
      "get": {
        "operationId": "CooperativeController_getCooperativeMember",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/cooperative-members/{id}": {
      "get": {
        "operationId": "CooperativeController_getMembersByCooperative",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/add-member": {
      "post": {
        "operationId": "CooperativeController_addMember",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AddCooperativeMemberDto" }
            }
          }
        },
        "responses": { "201": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/edit-member": {
      "patch": {
        "operationId": "CooperativeController_editMember",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/EditCooperativeMemberDto" }
            }
          }
        },
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/cooperative/delete-member/{id}": {
      "delete": {
        "operationId": "CooperativeController_deleteMember",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Cooperative"]
      }
    },
    "/products/all-products": {
      "get": {
        "description": "Retrieve all products with flexible filtering, pagination, and sorting options",
        "operationId": "ProductsController_getAllProducts",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number for pagination",
            "schema": { "minimum": 1, "default": 1, "example": 1, "type": "number" }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of items per page",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 10,
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "searchTerm",
            "required": false,
            "in": "query",
            "description": "Search term for product name or description",
            "schema": { "example": "shea butter", "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": { "$ref": "#/components/schemas/ProductCategory" }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Filter by product status",
            "schema": { "$ref": "#/components/schemas/ProductStatus" }
          },
          {
            "name": "grade",
            "required": false,
            "in": "query",
            "description": "Filter by product grade",
            "schema": { "$ref": "#/components/schemas/ProductGrade" }
          },
          {
            "name": "unitOfMeasurement",
            "required": false,
            "in": "query",
            "description": "Filter by unit of measurement",
            "schema": { "$ref": "#/components/schemas/UnitOfMeasurement" }
          },
          {
            "name": "isFeatured",
            "required": false,
            "in": "query",
            "description": "Filter by featured products",
            "schema": { "example": true, "type": "boolean" }
          },
          {
            "name": "isOrganic",
            "required": false,
            "in": "query",
            "description": "Filter by organic products",
            "schema": { "example": true, "type": "boolean" }
          },
          {
            "name": "minPrice",
            "required": false,
            "in": "query",
            "description": "Minimum price filter",
            "schema": { "example": 10, "type": "number" }
          },
          {
            "name": "maxPrice",
            "required": false,
            "in": "query",
            "description": "Maximum price filter",
            "schema": { "example": 100, "type": "number" }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": { "$ref": "#/components/schemas/ProductSortBy" }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": { "$ref": "#/components/schemas/SortOrder" }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Products retrieved successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ProductPaginationApiResponseDto" }
              }
            }
          },
          "400": { "description": "Invalid query parameters" }
        },
        "summary": "Get all products",
        "tags": ["Products"]
      }
    },
    "/products/best-products": {
      "get": {
        "description": "Returns 8-10 highly relevant products for homepage display. For authenticated users: personalized based on purchase history, cart activity, and preferences. For anonymous users: curated based on best-sellers, trending items, and engagement metrics. This endpoint is not paginated and is optimized for preview/featured sections.",
        "operationId": "ProductsController_getBestProducts",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Preview products retrieved successfully. Response includes personalized products for logged-in users or curated best performers for anonymous users.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/BestProductsApiResponseDto" }
              }
            }
          }
        },
        "summary": "Get preview products for homepage",
        "tags": ["Products"]
      }
    },
    "/products/list": {
      "get": {
        "description": "Retrieve all products with only id and name fields",
        "operationId": "ProductsController_getAllProductsBasic",
        "parameters": [],
        "responses": { "200": { "description": "Products retrieved successfully" } },
        "summary": "Get all products basic",
        "tags": ["Products"]
      }
    },
    "/products/product/{id}": {
      "get": {
        "description": "Retrieve a single product by ID",
        "operationId": "ProductsController_getProduct",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product UUID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Product retrieved successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SingleProductResponseDto" }
              }
            }
          },
          "404": { "description": "Product not found" }
        },
        "summary": "Get single product",
        "tags": ["Products"]
      }
    },
    "/products/add-product": {
      "post": {
        "description": "Create a new product (Admin only)",
        "operationId": "ProductsController_addProduct",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/CreateProductDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Product created successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ProductResponseDto" }
              }
            }
          },
          "400": { "description": "Invalid input data" },
          "401": { "description": "Unauthorized" },
          "409": { "description": "Product with SKU already exists" }
        },
        "summary": "Create new product",
        "tags": ["Products"]
      }
    },
    "/products/edit-product/{id}": {
      "put": {
        "description": "Update an existing product (Admin only)",
        "operationId": "ProductsController_editProduct",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product UUID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UpdateProductDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Product updated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ProductResponseDto" }
              }
            }
          },
          "400": { "description": "Invalid input data" },
          "401": { "description": "Unauthorized" },
          "404": { "description": "Product not found" },
          "409": { "description": "Product with SKU already exists" }
        },
        "security": [{ "bearer": [] }],
        "summary": "Update product",
        "tags": ["Products"]
      }
    },
    "/products/delete-product/{id}": {
      "delete": {
        "description": "Soft delete a product (Admin only)",
        "operationId": "ProductsController_deleteProduct",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product UUID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Product deleted successfully" },
          "401": { "description": "Unauthorized" },
          "404": { "description": "Product not found" }
        },
        "security": [{ "bearer": [] }],
        "summary": "Delete product",
        "tags": ["Products"]
      }
    },
    "/products/change-status/{id}": {
      "patch": {
        "description": "Toggle product status between active and inactive (Admin only)",
        "operationId": "ProductsController_changeProductStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product UUID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Product status changed successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ProductResponseDto" }
              }
            }
          },
          "401": { "description": "Unauthorized" },
          "404": { "description": "Product not found" }
        },
        "security": [{ "bearer": [] }],
        "summary": "Toggle product status",
        "tags": ["Products"]
      }
    },
    "/products/favorite/{id}": {
      "patch": {
        "description": "Toggle product favorite status",
        "operationId": "ProductsController_toggleFavorite",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Product UUID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Product favorite status toggled successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ProductResponseDto" }
              }
            }
          },
          "401": { "description": "Unauthorized" },
          "404": { "description": "Product not found" }
        },
        "security": [{ "bearer": [] }],
        "summary": "Toggle product favorite",
        "tags": ["Products"]
      }
    },
    "/products/export/excel": {
      "get": {
        "description": "Export all products to a well-structured Excel file with optional filtering. Supports category, status, grade, and other filters.",
        "operationId": "ProductsController_exportProductsToExcel",
        "parameters": [
          {
            "name": "searchTerm",
            "required": false,
            "in": "query",
            "description": "Search term for product name or description",
            "schema": { "example": "shea butter", "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": { "$ref": "#/components/schemas/ProductCategory" }
          },
          {
            "name": "status",
            "required": false,
            "in": "query",
            "description": "Filter by product status",
            "schema": { "$ref": "#/components/schemas/ProductStatus" }
          },
          {
            "name": "grade",
            "required": false,
            "in": "query",
            "description": "Filter by product grade",
            "schema": { "$ref": "#/components/schemas/ProductGrade" }
          },
          {
            "name": "unitOfMeasurement",
            "required": false,
            "in": "query",
            "description": "Filter by unit of measurement",
            "schema": { "$ref": "#/components/schemas/UnitOfMeasurement" }
          },
          {
            "name": "isFeatured",
            "required": false,
            "in": "query",
            "description": "Filter by featured products",
            "schema": { "example": true, "type": "boolean" }
          },
          {
            "name": "isOrganic",
            "required": false,
            "in": "query",
            "description": "Filter by organic products",
            "schema": { "example": true, "type": "boolean" }
          },
          {
            "name": "minPrice",
            "required": false,
            "in": "query",
            "description": "Minimum price filter",
            "schema": { "example": 10, "type": "number" }
          },
          {
            "name": "maxPrice",
            "required": false,
            "in": "query",
            "description": "Maximum price filter",
            "schema": { "example": 100, "type": "number" }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "default": "createdAt",
              "example": "createdAt",
              "enum": ["name", "retail", "createdAt", "rating", "stockQuantity"],
              "type": "string"
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "DESC",
              "example": "DESC",
              "enum": ["ASC", "DESC"],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Excel file downloaded successfully",
            "content": {
              "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": {
                "schema": { "type": "string", "format": "binary" }
              }
            }
          },
          "401": { "description": "Unauthorized" },
          "404": { "description": "No products found matching filters" }
        },
        "security": [{ "bearer": [] }],
        "summary": "Export all products to Excel",
        "tags": ["Products"]
      }
    },
    "/products/batches": {
      "post": {
        "description": "Create a new product batch (Admin only)",
        "operationId": "BatchesController_createBatch",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/CreateBatchDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Batch created successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/BatchResponseDto" } }
            }
          },
          "400": { "description": "Invalid input data" },
          "401": { "description": "Unauthorized" },
          "409": { "description": "Batch number already exists" }
        },
        "security": [{ "bearer": [] }],
        "summary": "Create new batch",
        "tags": ["Batches"]
      },
      "get": {
        "description": "Retrieve all product batches with pagination and filters",
        "operationId": "BatchesController_getAllBatches",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number for pagination",
            "schema": { "minimum": 1, "default": 1, "example": 1, "type": "number" }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of items per page",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 10,
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          },
          {
            "name": "batchNumber",
            "required": false,
            "in": "query",
            "description": "Search term for batch number",
            "schema": { "example": "BATCH-2024-001", "type": "string" }
          },
          {
            "name": "qualityCheckStatus",
            "required": false,
            "in": "query",
            "description": "Filter by quality check status",
            "schema": { "example": "Passed", "type": "string" }
          },
          {
            "name": "isActive",
            "required": false,
            "in": "query",
            "description": "Filter by active status",
            "schema": { "example": true, "type": "boolean" }
          },
          {
            "name": "sortBy",
            "required": false,
            "in": "query",
            "description": "Sort field",
            "schema": {
              "default": "createdAt",
              "example": "createdAt",
              "enum": ["createdAt", "batchNumber", "productionDate", "expiryDate"],
              "type": "string"
            }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "description": "Sort order",
            "schema": {
              "default": "DESC",
              "example": "DESC",
              "enum": ["ASC", "DESC"],
              "type": "string"
            }
          },
          {
            "required": false,
            "description": "Page number for pagination",
            "name": "page",
            "in": "query",
            "schema": { "minimum": 1, "default": 1, "example": 1 }
          },
          {
            "required": false,
            "description": "Number of items per page",
            "name": "limit",
            "in": "query",
            "schema": { "minimum": 1, "maximum": 100, "default": 10, "example": 10 }
          },
          {
            "required": false,
            "description": "Filter by product ID",
            "name": "productId",
            "in": "query",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000" }
          },
          {
            "required": false,
            "description": "Search term for batch number",
            "name": "batchNumber",
            "in": "query",
            "schema": { "example": "BATCH-2024-001" }
          },
          {
            "required": false,
            "description": "Filter by quality check status",
            "name": "qualityCheckStatus",
            "in": "query",
            "schema": { "example": "Passed" }
          },
          {
            "required": false,
            "description": "Filter by active status",
            "name": "isActive",
            "in": "query",
            "schema": { "example": true }
          },
          {
            "required": false,
            "description": "Sort field",
            "name": "sortBy",
            "in": "query",
            "schema": { "default": "createdAt", "example": "createdAt" }
          },
          {
            "required": false,
            "description": "Sort order",
            "name": "sortOrder",
            "in": "query",
            "schema": { "default": "DESC", "example": "DESC" }
          }
        ],
        "responses": {
          "200": {
            "description": "Batches retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": { "type": "string" },
                    "data": {
                      "type": "object",
                      "properties": {
                        "batches": {
                          "type": "array",
                          "items": { "$ref": "#/components/schemas/BatchResponseDto" }
                        },
                        "total": { "type": "number" },
                        "page": { "type": "number" },
                        "limit": { "type": "number" }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get all batches",
        "tags": ["Batches"]
      }
    },
    "/products/batches/{id}": {
      "get": {
        "description": "Retrieve a single batch by ID with all associated products",
        "operationId": "BatchesController_getBatch",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Batch UUID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Batch retrieved successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/BatchResponseDto" } }
            }
          },
          "404": { "description": "Batch not found" }
        },
        "summary": "Get single batch",
        "tags": ["Batches"]
      }
    },
    "/products/batches/product/{productId}": {
      "get": {
        "description": "Retrieve all batches associated with a specific product",
        "operationId": "BatchesController_getBatchesByProduct",
        "parameters": [
          {
            "name": "productId",
            "required": true,
            "in": "path",
            "description": "Product UUID",
            "schema": { "example": "123e4567-e89b-12d3-a456-426614174000", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Batches retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/BatchResponseDto" }
                }
              }
            }
          },
          "404": { "description": "Product not found" }
        },
        "summary": "Get batches for a product",
        "tags": ["Batches"]
      }
    },
    "/ingredients": {
      "get": {
        "operationId": "IngredientsController_findAll",
        "parameters": [],
        "responses": { "200": { "description": "List of all ingredients" } },
        "summary": "Retrieve all ingredients",
        "tags": ["ingredients"]
      },
      "post": {
        "operationId": "IngredientsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/CreateIngredientDto" } }
          }
        },
        "responses": {
          "201": { "description": "The created ingredient" },
          "400": { "description": "Bad request" }
        },
        "summary": "Create a new ingredient",
        "tags": ["ingredients"]
      }
    },
    "/ingredients/{id}": {
      "get": {
        "operationId": "IngredientsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The ID of the ingredient",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "The ingredient object" },
          "404": { "description": "Ingredient not found" }
        },
        "summary": "Retrieve a single ingredient by ID",
        "tags": ["ingredients"]
      },
      "put": {
        "operationId": "IngredientsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The ID of the ingredient to update",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UpdateIngredientDto" } }
          }
        },
        "responses": {
          "200": { "description": "The updated ingredient" },
          "400": { "description": "Bad request" },
          "404": { "description": "Ingredient not found" }
        },
        "summary": "Update an existing ingredient",
        "tags": ["ingredients"]
      },
      "delete": {
        "operationId": "IngredientsController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The ID of the ingredient to delete",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Ingredient deleted successfully" },
          "404": { "description": "Ingredient not found" }
        },
        "summary": "Delete an ingredient by ID",
        "tags": ["ingredients"]
      }
    },
    "/cart": {
      "get": {
        "description": "Retrieves all cart items for the authenticated user with total count and price. Only returns items that have not been checked out.",
        "operationId": "CartController_getCart",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Cart retrieved successfully. Returns array of cart items, total item count, and total price.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/GetCartResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not authenticated",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Get user's shopping cart",
        "tags": ["Cart"]
      },
      "post": {
        "description": "Adds a single product to the authenticated user's shopping cart with quantity of 1. If product already exists in cart, the quantity is incremented.",
        "operationId": "CartController_addToCart",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Product ID to add to cart",
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AddCartDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Product added to cart successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/CartResponseDto" } }
            }
          },
          "400": {
            "description": "Bad request - validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not authenticated",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "Product not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Add product to cart",
        "tags": ["Cart"]
      }
    },
    "/cart/{id}": {
      "delete": {
        "description": "Removes a specific item from the authenticated user's shopping cart. User can only delete their own cart items.",
        "operationId": "CartController_removeFromCart",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Cart item ID (UUID)",
            "schema": { "example": "550e8400-e29b-41d4-a716-446655440000", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Cart item removed successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DeleteCartResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not authenticated",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "403": {
            "description": "Forbidden - user attempting to delete another user's cart item",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "Cart item not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Remove item from cart",
        "tags": ["Cart"]
      },
      "patch": {
        "description": "Updates the quantity of a specific cart item. User can only update their own cart items. Returns updated cart with total count and price.",
        "operationId": "CartController_addQuantity",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Cart item ID (UUID)",
            "schema": { "example": "550e8400-e29b-41d4-a716-446655440000", "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "New quantity for the cart item (must be positive integer)",
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AddQuantityDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Quantity updated successfully. Returns complete cart with updated totals.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/GetCartResponseDto" }
              }
            }
          },
          "400": {
            "description": "Bad request - validation failed",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not authenticated",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "403": {
            "description": "Forbidden - user attempting to update another user's cart item",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "Cart item not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Update cart item quantity",
        "tags": ["Cart"]
      }
    },
    "/cart/all-cart": {
      "delete": {
        "description": "Removes all cart items for the authenticated user. This action cannot be undone.",
        "operationId": "CartController_removeAllFromCart",
        "parameters": [],
        "responses": {
          "200": {
            "description": "All cart items removed successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DeleteCartResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not authenticated",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Remove all items from cart",
        "tags": ["Cart"]
      }
    },
    "/cart/bulk": {
      "post": {
        "description": "Adds multiple products to the authenticated user's shopping cart with specified quantities. If a product already exists in cart, the quantity is incremented. Invalid or non-existent products are skipped and reported in the response.",
        "operationId": "CartController_bulkAddToCart",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Array of products with quantities to add to cart. At least one item is required.",
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/BulkAddCartDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Products processed successfully. Returns added items and any skipped items.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/BulkAddCartResponseDto" }
              }
            }
          },
          "400": {
            "description": "Bad request - validation failed (empty array, invalid quantities, etc.)",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ValidationErrorResponseDto" }
              }
            }
          },
          "401": {
            "description": "Unauthorized - user not authenticated",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          },
          "404": {
            "description": "User not found",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Bulk add products to cart",
        "tags": ["Cart"]
      }
    },
    "/cart/guest/{sessionId}": {
      "get": {
        "description": "Retrieves all cart items for a guest user session. Only returns items that have not been checked out.",
        "operationId": "CartController_getGuestCart",
        "parameters": [
          { "name": "sessionId", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Cart retrieved successfully. Returns array of cart items, total item count, and total price.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/GetCartResponseDto" }
              }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Get guest shopping cart",
        "tags": ["Cart"]
      }
    },
    "/cart/guest": {
      "post": {
        "description": "Adds a product to the guest user's shopping cart. If product already exists in cart, the quantity is incremented.",
        "operationId": "CartController_addToGuestCart",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AddToGuestCartDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Product added to guest cart successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/CartResponseDto" } }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Add product to guest cart",
        "tags": ["Cart"]
      }
    },
    "/cart/guest/{cartId}": {
      "delete": {
        "description": "Removes a specific cart item from the guest user's cart.",
        "operationId": "CartController_removeFromGuestCart",
        "parameters": [
          { "name": "cartId", "required": true, "in": "path", "schema": { "type": "string" } },
          { "name": "sessionId", "required": true, "in": "query", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Product removed from guest cart successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DeleteCartResponseDto" }
              }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Remove product from guest cart",
        "tags": ["Cart"]
      },
      "patch": {
        "description": "Updates the quantity of a specific item in the guest cart.",
        "operationId": "CartController_updateGuestCartQuantity",
        "parameters": [
          { "name": "cartId", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/UpdateGuestCartQuantityDto" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Guest cart item quantity updated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/GetCartResponseDto" }
              }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Update guest cart item quantity",
        "tags": ["Cart"]
      }
    },
    "/cart/guest/all/{sessionId}": {
      "delete": {
        "description": "Removes all items from the guest user's shopping cart.",
        "operationId": "CartController_removeAllFromGuestCart",
        "parameters": [
          { "name": "sessionId", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Guest cart cleared successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DeleteCartResponseDto" }
              }
            }
          }
        },
        "security": [{ "cookie": [] }],
        "summary": "Clear all items from guest cart",
        "tags": ["Cart"]
      }
    },
    "/checkout/orders": {
      "get": {
        "operationId": "CheckoutController_getOrders",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Customer orders loaded successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutsResponseDto" }
              }
            }
          }
        },
        "summary": "Get all orders for current user",
        "tags": ["Checkout"]
      }
    },
    "/checkout/order/{id}": {
      "get": {
        "operationId": "CheckoutController_getOrder",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Order ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Order loaded successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutResponseDto" }
              }
            }
          }
        },
        "summary": "Get a specific order",
        "tags": ["Checkout"]
      }
    },
    "/checkout/guest/confirm-payment/{checkoutId}": {
      "get": {
        "description": "Public endpoint to confirm payment after Paystack redirect for guest users",
        "operationId": "CheckoutController_confirmGuestPayment",
        "parameters": [
          {
            "name": "checkoutId",
            "required": true,
            "in": "path",
            "description": "Checkout ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment confirmed successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutResponseDto" }
              }
            }
          }
        },
        "summary": "Confirm payment for a guest order (no authentication required)",
        "tags": ["Checkout"]
      }
    },
    "/checkout/confirm-payment/{checkoutId}": {
      "get": {
        "operationId": "CheckoutController_confirmPayment",
        "parameters": [
          {
            "name": "checkoutId",
            "required": true,
            "in": "path",
            "description": "Checkout ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment confirmed successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutResponseDto" }
              }
            }
          }
        },
        "summary": "Confirm payment for an order",
        "tags": ["Checkout"]
      }
    },
    "/checkout/delivery": {
      "post": {
        "operationId": "CheckoutController_getDeliveryCost",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/GetDeliveryCostDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Transportation cost calculated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DeliveryResponseDto" }
              }
            }
          }
        },
        "summary": "Calculate delivery cost based on location details",
        "tags": ["Checkout"]
      }
    },
    "/checkout/admin/orders": {
      "get": {
        "operationId": "CheckoutController_getAllOrders",
        "parameters": [
          {
            "name": "orderStatus",
            "required": false,
            "in": "query",
            "schema": {
              "enum": ["pending", "packaging", "in_transit", "delivered", "cancelled"],
              "type": "string"
            }
          },
          {
            "name": "paymentStatus",
            "required": false,
            "in": "query",
            "schema": {
              "enum": ["invoice_requested", "pending_payment", "paid", "refunded"],
              "type": "string"
            }
          },
          {
            "name": "searchTerm",
            "required": false,
            "in": "query",
            "schema": { "type": "string" }
          },
          { "name": "page", "required": false, "in": "query", "schema": { "type": "number" } }
        ],
        "responses": {
          "200": {
            "description": "Orders loaded successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/OrdersPaginationResponseDto" }
              }
            }
          }
        },
        "summary": "Get all orders (admin)",
        "tags": ["Checkout"]
      }
    },
    "/checkout/initialize-transaction": {
      "post": {
        "operationId": "CheckoutController_initializeTransaction",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/InitializeTransaction" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Transaction initialized successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/InitializeTransactionResponseDto" }
              }
            }
          }
        },
        "summary": "Initialize payment transaction",
        "tags": ["Checkout"]
      }
    },
    "/checkout/place-order": {
      "post": {
        "operationId": "CheckoutController_placeOrder",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/PlaceOrderDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Order placed successfully. You can make payment later from your dashboard.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutResponseDto" }
              }
            }
          }
        },
        "summary": "Place an order without immediate payment - payment can be made later",
        "tags": ["Checkout"]
      }
    },
    "/checkout/pay-for-order/{checkoutId}": {
      "post": {
        "operationId": "CheckoutController_payForOrder",
        "parameters": [
          {
            "name": "checkoutId",
            "required": true,
            "in": "path",
            "description": "Checkout ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment initialized successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/InitializeTransactionResponseDto" }
              }
            }
          },
          "201": { "description": "" }
        },
        "summary": "Initialize payment for a previously placed order (invoice requested or pending payment)",
        "tags": ["Checkout"]
      }
    },
    "/checkout/sale-status/{id}": {
      "patch": {
        "operationId": "CheckoutController_updateSaleStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Checkout ID",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UpdateSaleStatusDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Sale status updated successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          }
        },
        "summary": "Update sale status",
        "tags": ["Checkout"]
      }
    },
    "/checkout/delivery-cost/{id}": {
      "patch": {
        "operationId": "CheckoutController_updateDeliveryCost",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Checkout ID",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/UpdateDeliveryCostDto" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Delivery cost updated successfully. Customer will be notified.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutResponseDto" }
              }
            }
          }
        },
        "summary": "Update delivery cost for an order (e.g., for international orders)",
        "tags": ["Checkout"]
      }
    },
    "/checkout/cancel-order/{id}": {
      "patch": {
        "operationId": "CheckoutController_cancelOrder",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Checkout ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Order has been successfully cancelled. If you have paid, you will receive refund in 3 working days",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutResponseDto" }
              }
            }
          }
        },
        "summary": "Cancel an order",
        "tags": ["Checkout"]
      }
    },
    "/checkout/guest/delivery": {
      "post": {
        "operationId": "CheckoutController_getGuestDeliveryCost",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/GuestGetDeliveryCostDto" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Transportation cost calculated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/DeliveryResponseDto" }
              }
            }
          }
        },
        "summary": "Calculate delivery cost for guest checkout",
        "tags": ["Checkout"]
      }
    },
    "/checkout/guest/initialize-transaction": {
      "post": {
        "operationId": "CheckoutController_guestInitializeTransaction",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/GuestInitializeTransactionDto" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Transaction initialized successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/InitializeTransactionResponseDto" }
              }
            }
          }
        },
        "summary": "Initialize payment transaction for guest user",
        "tags": ["Checkout"]
      }
    },
    "/checkout/guest/place-order": {
      "post": {
        "operationId": "CheckoutController_guestPlaceOrder",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/GuestPlaceOrderDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "Order placed successfully. Check your email for order tracking information.",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutResponseDto" }
              }
            }
          }
        },
        "summary": "Place an order as guest without immediate payment - payment can be made later",
        "tags": ["Checkout"]
      }
    },
    "/checkout/track/{checkoutId}": {
      "get": {
        "description": "Track any order using the checkout ID and email address. Works for orders placed by guests, registered users, or created by admins.",
        "operationId": "CheckoutController_getOrderStatus",
        "parameters": [
          {
            "name": "checkoutId",
            "required": true,
            "in": "path",
            "description": "Checkout ID",
            "schema": { "type": "string" }
          },
          {
            "name": "email",
            "required": true,
            "in": "query",
            "description": "Email address associated with the order",
            "schema": { "format": "email", "example": "guest@example.com", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Order status retrieved successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CheckoutResponseDto" }
              }
            }
          }
        },
        "summary": "Track order status by checkout ID and email (no authentication required - works for all orders)",
        "tags": ["Checkout"]
      }
    },
    "/checkout/guest/pay-for-order/{checkoutId}": {
      "post": {
        "description": "Initialize payment for any order using checkout ID and email. Works for orders placed by guests, registered users, or created by admins.",
        "operationId": "CheckoutController_payForGuestOrder",
        "parameters": [
          {
            "name": "checkoutId",
            "required": true,
            "in": "path",
            "description": "Checkout ID",
            "schema": { "type": "string" }
          },
          {
            "name": "email",
            "required": true,
            "in": "query",
            "description": "Email address associated with the order",
            "schema": { "format": "email", "example": "guest@example.com", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment initialized successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/InitializeTransactionResponseDto" }
              }
            }
          },
          "201": { "description": "" }
        },
        "summary": "Initialize payment for any order without authentication (invoice requested or pending payment)",
        "tags": ["Checkout"]
      }
    },
    "/upload/image": {
      "post": {
        "operationId": "UploadController_uploadImage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary",
                    "description": "Image file to upload"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Image uploaded successfully",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/UploadResponseDto" } }
            }
          }
        },
        "summary": "Upload an image",
        "tags": ["Upload"]
      }
    },
    "/sales": {
      "post": {
        "operationId": "SalesController_createSale",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/CreateSaleDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          }
        },
        "summary": "Create a new sale",
        "tags": ["Sales"]
      },
      "get": {
        "operationId": "SalesController_listSales",
        "parameters": [
          {
            "name": "orderStatus",
            "required": false,
            "in": "query",
            "schema": {
              "enum": ["pending", "packaging", "in_transit", "delivered", "cancelled"],
              "type": "string"
            }
          },
          {
            "name": "paymentStatus",
            "required": false,
            "in": "query",
            "schema": {
              "enum": ["invoice_requested", "pending_payment", "paid", "refunded"],
              "type": "string"
            }
          },
          {
            "name": "customerId",
            "required": false,
            "in": "query",
            "schema": { "type": "string" }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "schema": { "default": 1, "type": "number" }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "schema": { "default": 10, "type": "number" }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": { "application/json": { "schema": { "type": "object" } } }
          }
        },
        "summary": "List sales",
        "tags": ["Sales"]
      }
    },
    "/sales/{id}": {
      "patch": {
        "operationId": "SalesController_updateSale",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UpdateSaleDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          }
        },
        "summary": "Edit sale details",
        "tags": ["Sales"]
      },
      "get": {
        "operationId": "SalesController_getSaleDetails",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          }
        },
        "summary": "Get sale details",
        "tags": ["Sales"]
      },
      "delete": {
        "operationId": "SalesController_cancelSale",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          }
        },
        "summary": "Cancel sale",
        "tags": ["Sales"]
      }
    },
    "/sales/{id}/status": {
      "put": {
        "operationId": "SalesController_updateSaleStatus",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UpdateSaleStatusDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          }
        },
        "summary": "Update sale status",
        "tags": ["Sales"]
      }
    },
    "/sales/{id}/line-items": {
      "post": {
        "operationId": "SalesController_addLineItem",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AddLineItemDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          },
          "201": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          }
        },
        "summary": "Add line item to sale",
        "tags": ["Sales"]
      }
    },
    "/sales/{id}/batches": {
      "put": {
        "operationId": "SalesController_assignBatches",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AssignBatchesDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/SaleResponseDto" } }
            }
          }
        },
        "summary": "Assign batches to line item",
        "tags": ["Sales"]
      }
    },
    "/sales/track/{saleId}": {
      "get": {
        "description": "Track any order using the sale ID and email address. Works for orders placed by guests, registered users, or created by admins.",
        "operationId": "SalesController_trackOrder",
        "parameters": [
          {
            "name": "saleId",
            "required": true,
            "in": "path",
            "description": "Sale/Order ID",
            "schema": { "type": "string" }
          },
          {
            "name": "email",
            "required": true,
            "in": "query",
            "description": "Email address associated with the order",
            "schema": { "format": "email", "example": "customer@example.com", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Order tracked successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/TrackOrderResponseDto" }
              }
            }
          }
        },
        "summary": "Track order status by sale ID and email (no authentication required)",
        "tags": ["Sales"]
      }
    },
    "/sales/pay/{saleId}": {
      "post": {
        "description": "Initialize payment for any order using sale ID and email. Works for orders with INVOICE_REQUESTED or PENDING_PAYMENT status.",
        "operationId": "SalesController_payForOrder",
        "parameters": [
          {
            "name": "saleId",
            "required": true,
            "in": "path",
            "description": "Sale/Order ID",
            "schema": { "type": "string" }
          },
          {
            "name": "email",
            "required": true,
            "in": "query",
            "description": "Email address associated with the order",
            "schema": { "format": "email", "example": "customer@example.com", "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Payment initialized successfully" },
          "201": { "description": "" }
        },
        "summary": "Initialize payment for order by sale ID (no authentication required)",
        "tags": ["Sales"]
      }
    },
    "/sales/by-email": {
      "get": {
        "description": "Retrieve all sales associated with a specific customer email address. Supports filtering by order status and payment status with pagination.",
        "operationId": "SalesController_listSalesByEmail",
        "parameters": [
          {
            "name": "email",
            "required": true,
            "in": "query",
            "description": "Email address of the customer",
            "schema": { "format": "email", "example": "customer@example.com", "type": "string" }
          },
          {
            "name": "orderStatus",
            "required": false,
            "in": "query",
            "description": "Filter by order status",
            "schema": {
              "enum": ["pending", "packaging", "in_transit", "delivered", "cancelled"],
              "type": "string"
            }
          },
          {
            "name": "paymentStatus",
            "required": false,
            "in": "query",
            "description": "Filter by payment status",
            "schema": {
              "enum": ["invoice_requested", "pending_payment", "paid", "refunded"],
              "type": "string"
            }
          },
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number for pagination",
            "schema": { "default": 1, "type": "number" }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of items per page",
            "schema": { "default": 10, "type": "number" }
          }
        ],
        "responses": {
          "200": {
            "description": "Sales retrieved successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/PaginatedSaleResponseDto" }
              }
            }
          }
        },
        "summary": "List sales by customer email (no authentication required)",
        "tags": ["Sales"]
      }
    },
    "/sales/{id}/invoice": {
      "post": {
        "operationId": "SalesController_generateInvoice",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/GenerateInvoiceDto" } }
          }
        },
        "responses": {
          "200": { "description": "Invoice PDF generated successfully" },
          "201": { "description": "" }
        },
        "summary": "Generate invoice PDF for a sale",
        "tags": ["Sales"]
      }
    },
    "/sales/{id}/receipt": {
      "post": {
        "operationId": "SalesController_generateReceipt",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/GenerateReceiptDto" } }
          }
        },
        "responses": {
          "200": { "description": "Receipt PDF generated successfully" },
          "201": { "description": "" }
        },
        "summary": "Generate receipt PDF for a sale",
        "tags": ["Sales"]
      }
    },
    "/sales/{id}/waybill": {
      "post": {
        "operationId": "SalesController_generateWaybill",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/GenerateWaybillDto" } }
          }
        },
        "responses": {
          "200": { "description": "Waybill PDF generated successfully" },
          "201": { "description": "" }
        },
        "summary": "Generate waybill PDF for a sale",
        "tags": ["Sales"]
      }
    },
    "/customers": {
      "get": {
        "operationId": "CustomerController_getAllCustomers",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": { "type": "number" }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Items per page",
            "schema": { "type": "number" }
          }
        ],
        "responses": { "200": { "description": "Customers retrieved successfully" } },
        "summary": "Get all customers with pagination",
        "tags": ["customers"]
      },
      "post": {
        "operationId": "CustomerController_createCustomer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/CreateCustomerDto" } }
          }
        },
        "responses": {
          "201": { "description": "Customer created successfully" },
          "409": { "description": "Customer with email already exists" }
        },
        "summary": "Create a new customer",
        "tags": ["customers"]
      },
      "patch": {
        "operationId": "CustomerController_updateCustomer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UpdateCustomerDto" } }
          }
        },
        "responses": {
          "200": { "description": "Customer updated successfully" },
          "404": { "description": "Customer not found" },
          "409": { "description": "Customer with email already exists" }
        },
        "summary": "Update an existing customer",
        "tags": ["customers"]
      }
    },
    "/customers/{id}": {
      "get": {
        "operationId": "CustomerController_getCustomer",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Customer ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Customer retrieved successfully" },
          "404": { "description": "Customer not found" }
        },
        "summary": "Get a customer by ID",
        "tags": ["customers"]
      },
      "delete": {
        "operationId": "CustomerController_deleteCustomer",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Customer ID",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Customer deleted successfully" },
          "404": { "description": "Customer not found" }
        },
        "summary": "Delete a customer (soft delete)",
        "tags": ["customers"]
      }
    },
    "/reports/sales": {
      "get": {
        "description": "Returns total revenue, sales count, average order value, and optional time series data. Supports filtering by date range, product, and category. Perfect for dashboard KPIs and charts.",
        "operationId": "ReportsController_getSalesReport",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          },
          {
            "name": "includeTrends",
            "required": false,
            "in": "query",
            "description": "Include sales trends",
            "schema": { "default": false, "type": "boolean" }
          }
        ],
        "responses": { "200": { "description": "Sales report generated successfully" } },
        "summary": "Get comprehensive sales report",
        "tags": ["Reports"]
      }
    },
    "/reports/sales/by-product": {
      "get": {
        "description": "Returns sales metrics for each product including quantity sold, revenue, and number of sales. Useful for product performance tables and identifying top/bottom performers.",
        "operationId": "ReportsController_getSalesByProduct",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          }
        ],
        "responses": { "200": { "description": "Product sales report generated successfully" } },
        "summary": "Get sales breakdown by product",
        "tags": ["Reports"]
      }
    },
    "/reports/sales/by-category": {
      "get": {
        "description": "Returns sales metrics aggregated by product category with percentage of total revenue. Perfect for pie charts and understanding category performance.",
        "operationId": "ReportsController_getSalesByCategory",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          }
        ],
        "responses": { "200": { "description": "Category sales report generated successfully" } },
        "summary": "Get sales breakdown by category",
        "tags": ["Reports"]
      }
    },
    "/reports/products/top": {
      "get": {
        "description": "Returns ranked list of best-selling products by revenue or quantity. Configurable limit and sort order. Great for leaderboards and highlights.",
        "operationId": "ReportsController_getTopProducts",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          },
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of top products to return",
            "schema": { "minimum": 1, "default": 10, "type": "number" }
          },
          {
            "name": "sortOrder",
            "required": false,
            "in": "query",
            "schema": { "default": "DESC", "enum": ["ASC", "DESC"], "type": "string" }
          }
        ],
        "responses": { "200": { "description": "Top products report generated successfully" } },
        "summary": "Get top selling products",
        "tags": ["Reports"]
      }
    },
    "/reports/products/revenue-distribution": {
      "get": {
        "description": "Shows percentage contribution of each product to total revenue. Ideal for understanding which products drive the most revenue.",
        "operationId": "ReportsController_getRevenueDistribution",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": { "description": "Revenue distribution report generated successfully" }
        },
        "summary": "Get revenue distribution by product",
        "tags": ["Reports"]
      }
    },
    "/reports/batches": {
      "get": {
        "description": "Returns batch production volumes, sold quantities, and utilization rates. Helps track production efficiency and batch performance.",
        "operationId": "ReportsController_getBatchReport",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          }
        ],
        "responses": { "200": { "description": "Batch report generated successfully" } },
        "summary": "Get batch production report",
        "tags": ["Reports"]
      }
    },
    "/reports/batches/aging": {
      "get": {
        "description": "Tracks batch age, days until expiry, and categorizes batches by urgency. Critical for managing perishable inventory and preventing waste.",
        "operationId": "ReportsController_getBatchAgingReport",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          }
        ],
        "responses": { "200": { "description": "Batch aging report generated successfully" } },
        "summary": "Get batch aging and expiry report",
        "tags": ["Reports"]
      }
    },
    "/reports/inventory": {
      "get": {
        "description": "Shows current stock levels, inventory value, and identifies low-stock items. Essential for inventory management and reorder planning.",
        "operationId": "ReportsController_getInventoryReport",
        "parameters": [
          {
            "name": "category",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "lowStockOnly",
            "required": false,
            "in": "query",
            "description": "Show only low stock items",
            "schema": { "type": "boolean" }
          },
          {
            "name": "lowStockThreshold",
            "required": false,
            "in": "query",
            "description": "Low stock threshold",
            "schema": { "default": 100, "type": "number" }
          }
        ],
        "responses": { "200": { "description": "Inventory report generated successfully" } },
        "summary": "Get inventory report",
        "tags": ["Reports"]
      }
    },
    "/reports/stock-movement": {
      "get": {
        "description": "Tracks stock changes over time showing production, sales, and net movement. Perfect for line charts showing inventory flow and trends.",
        "operationId": "ReportsController_getStockMovementReport",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          }
        ],
        "responses": { "200": { "description": "Stock movement report generated successfully" } },
        "summary": "Get stock movement report",
        "tags": ["Reports"]
      }
    },
    "/reports/comparative": {
      "get": {
        "description": "Compares two time periods showing growth metrics and percentage changes. Useful for month-over-month, year-over-year comparisons.",
        "operationId": "ReportsController_getComparativeReport",
        "parameters": [
          {
            "name": "currentFromDate",
            "required": true,
            "in": "query",
            "description": "Start date for current period",
            "schema": { "type": "string" }
          },
          {
            "name": "currentToDate",
            "required": true,
            "in": "query",
            "description": "End date for current period",
            "schema": { "type": "string" }
          },
          {
            "name": "previousFromDate",
            "required": true,
            "in": "query",
            "description": "Start date for previous period",
            "schema": { "type": "string" }
          },
          {
            "name": "previousToDate",
            "required": true,
            "in": "query",
            "description": "End date for previous period",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          }
        ],
        "responses": { "200": { "description": "Comparative report generated successfully" } },
        "summary": "Get period-over-period comparison",
        "tags": ["Reports"]
      }
    },
    "/reports/dashboard-summary": {
      "get": {
        "description": "Returns a comprehensive summary of key business metrics for dashboard display. Includes sales, inventory, and production KPIs in a single response.",
        "operationId": "ReportsController_getDashboardSummary",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "productId",
            "required": false,
            "in": "query",
            "description": "Filter by product ID",
            "schema": { "type": "string" }
          },
          {
            "name": "category",
            "required": false,
            "in": "query",
            "description": "Filter by product category",
            "schema": {
              "enum": [
                "Shea Butter",
                "Black Soap",
                "Cosmetics",
                "Shea Soap",
                "Powdered Soap",
                "Dawadawa",
                "Essential Oils",
                "Hair Oil",
                "Grains",
                "Legumes",
                "Other"
              ],
              "type": "string"
            }
          },
          {
            "name": "batchId",
            "required": false,
            "in": "query",
            "description": "Filter by batch ID",
            "schema": { "type": "string" }
          },
          {
            "name": "aggregation",
            "required": false,
            "in": "query",
            "description": "Time aggregation level",
            "schema": {
              "default": "daily",
              "enum": ["daily", "weekly", "monthly", "yearly"],
              "type": "string"
            }
          }
        ],
        "responses": { "200": { "description": "Dashboard summary generated successfully" } },
        "summary": "Get dashboard summary with key metrics",
        "tags": ["Reports"]
      }
    },
    "/dashboard/summary": {
      "get": {
        "description": "Returns high-level KPIs including revenue, sales, products, batches, and inventory metrics. Optimized for fast dashboard loading. Supports optional date range and period comparison.",
        "operationId": "DashboardController_getSummary",
        "parameters": [
          {
            "name": "fromDate",
            "required": false,
            "in": "query",
            "description": "Start date for period filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "toDate",
            "required": false,
            "in": "query",
            "description": "End date for period filtering (ISO format)",
            "schema": { "type": "string" }
          },
          {
            "name": "includeComparison",
            "required": false,
            "in": "query",
            "description": "Include comparison with previous period",
            "schema": { "default": false, "type": "boolean" }
          }
        ],
        "responses": { "200": { "description": "Dashboard summary retrieved successfully" } },
        "summary": "Get dashboard summary with KPIs",
        "tags": ["Dashboard"]
      }
    },
    "/dashboard/trends": {
      "get": {
        "description": "Returns sales and revenue trends for the last 7, 30, or 90 days. Includes production vs sales comparison. Optimized for chart rendering.",
        "operationId": "DashboardController_getTrends",
        "parameters": [
          {
            "name": "period",
            "required": false,
            "in": "query",
            "description": "Period for trend data",
            "schema": { "default": "30", "enum": ["7", "30", "90"], "type": "string" }
          }
        ],
        "responses": { "200": { "description": "Dashboard trends retrieved successfully" } },
        "summary": "Get dashboard trend data",
        "tags": ["Dashboard"]
      }
    },
    "/dashboard/highlights": {
      "get": {
        "description": "Returns top sellers, bottom performers, fastest growing, and declining products. Provides quick performance insights for dashboard highlights.",
        "operationId": "DashboardController_getHighlights",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of top/bottom products to return",
            "schema": { "minimum": 1, "maximum": 10, "default": 5, "type": "number" }
          }
        ],
        "responses": { "200": { "description": "Dashboard highlights retrieved successfully" } },
        "summary": "Get top and bottom performers",
        "tags": ["Dashboard"]
      }
    },
    "/dashboard/alerts": {
      "get": {
        "description": "Returns low stock alerts, expiring batches, and other critical inventory notifications. Sorted by severity and urgency for immediate action.",
        "operationId": "DashboardController_getAlerts",
        "parameters": [
          {
            "name": "lowStockThreshold",
            "required": false,
            "in": "query",
            "description": "Low stock threshold",
            "schema": { "minimum": 0, "default": 100, "type": "number" }
          },
          {
            "name": "expiryWarningDays",
            "required": false,
            "in": "query",
            "description": "Days until expiry for critical alert",
            "schema": { "minimum": 1, "default": 30, "type": "number" }
          }
        ],
        "responses": { "200": { "description": "Dashboard alerts retrieved successfully" } },
        "summary": "Get inventory alerts",
        "tags": ["Dashboard"]
      }
    },
    "/dashboard/activity": {
      "get": {
        "description": "Returns recent sales, newly created batches, and latest inventory changes. Provides a quick overview of recent system activity.",
        "operationId": "DashboardController_getActivity",
        "parameters": [
          {
            "name": "limit",
            "required": false,
            "in": "query",
            "description": "Number of recent items to return",
            "schema": { "minimum": 5, "maximum": 20, "default": 10, "type": "number" }
          }
        ],
        "responses": { "200": { "description": "Dashboard activity retrieved successfully" } },
        "summary": "Get recent activity",
        "tags": ["Dashboard"]
      }
    },
    "/me/profile": {
      "get": {
        "description": "Returns the authenticated user's profile information. Read-only fields like role and verification status are included.",
        "operationId": "ProfileController_getProfile",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ProfileResponseWrapperDto" }
              }
            }
          },
          "401": { "description": "Unauthorized - not logged in" }
        },
        "security": [{ "cookie": [] }],
        "summary": "Get my profile",
        "tags": ["Profile & Settings"]
      },
      "put": {
        "description": "Updates the authenticated user's profile information. Email changes require re-verification. Role and permissions cannot be modified through this endpoint.",
        "operationId": "ProfileController_updateProfile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/UpdateProfileDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ProfileResponseWrapperDto" }
              }
            }
          },
          "201": {
            "description": "Profile updated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ProfileResponseWrapperDto" }
              }
            }
          },
          "400": { "description": "Bad request - validation failed" },
          "401": { "description": "Unauthorized - not logged in" },
          "409": { "description": "Email already in use by another account" }
        },
        "security": [{ "cookie": [] }],
        "summary": "Update my profile",
        "tags": ["Profile & Settings"]
      }
    },
    "/me/profile/avatar": {
      "post": {
        "description": "Uploads or updates the authenticated user's profile avatar image. Accepts image files (jpg, png, gif) up to 5MB.",
        "operationId": "ProfileController_uploadAvatar",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Avatar image file"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Avatar uploaded successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AvatarUploadResponseDto" }
              }
            }
          },
          "201": {
            "description": "Avatar uploaded successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/AvatarUploadResponseDto" }
              }
            }
          },
          "400": { "description": "Bad request - invalid file type or size" },
          "401": { "description": "Unauthorized - not logged in" }
        },
        "security": [{ "cookie": [] }],
        "summary": "Upload profile avatar",
        "tags": ["Profile & Settings"]
      }
    },
    "/contact": {
      "post": {
        "description": "Allows users to contact Maltiti A. Enterprise Ltd. On successful submission, an email is sent to the administrator.",
        "operationId": "ContactController_submitContactForm",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/ContactUsDto" } }
          }
        },
        "responses": {
          "200": {
            "description": "Message sent successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ContactUsSuccessResponseDto" }
              }
            }
          },
          "400": {
            "description": "Validation error - Invalid input",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ContactUsErrorResponseDto" }
              }
            }
          },
          "500": {
            "description": "Server error - Unable to process request",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ContactUsErrorResponseDto" }
              }
            }
          }
        },
        "summary": "Submit contact us form",
        "tags": ["Contact"]
      }
    }
  },
  "info": {
    "title": "Maltiti A. Enterprise Ltd - API",
    "description": "API documentation for Maltiti A. Enterprise Ltd API Service. Manufacturer of premium shea-based products, cosmetics, and essential oils.",
    "version": "1.0",
    "contact": {
      "name": "Maltiti Support",
      "url": "https://maltiti.com",
      "email": "support@maltiti.com"
    },
    "license": { "name": "Proprietary", "url": "https://maltiti.com/license" }
  },
  "tags": [
    { "name": "Authentication", "description": "User authentication and authorization endpoints" },
    { "name": "Products", "description": "Product management endpoints" },
    { "name": "Cart", "description": "Shopping cart management endpoints" },
    { "name": "Checkout", "description": "Order and checkout endpoints" },
    { "name": "Cooperative", "description": "Cooperative management endpoints" },
    { "name": "Users", "description": "User management endpoints" },
    { "name": "Contact", "description": "Contact us form submission endpoints" }
  ],
  "servers": [{ "url": "http://localhost:3002", "description": "Development" }],
  "components": {
    "securitySchemes": {
      "JWT-auth": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http",
        "name": "JWT",
        "description": "Enter JWT token",
        "in": "header"
      }
    },
    "schemas": {
      "Object": { "type": "object", "properties": {} },
      "AuditLogResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the audit log",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "actionType": {
            "enum": [
              "LOGIN",
              "LOGOUT",
              "LOGIN_FAILED",
              "PASSWORD_CHANGED",
              "PASSWORD_RESET",
              "CREATE",
              "UPDATE",
              "DELETE",
              "ROLE_CHANGED",
              "PERMISSION_CHANGED",
              "STATUS_CHANGED",
              "INVENTORY_ADJUSTED",
              "BATCH_ASSIGNED",
              "REPORT_EXPORTED",
              "DATA_EXPORTED",
              "SALE_CREATED",
              "SALE_UPDATED",
              "SALE_CANCELLED",
              "CONFIGURATION_CHANGED",
              "SYSTEM_ACTION",
              "USER_CREATED",
              "USER_UPDATED",
              "USER_DELETED",
              "USER_DEACTIVATED",
              "USER_ACTIVATED"
            ],
            "type": "string",
            "description": "Type of action performed",
            "example": "CREATE"
          },
          "entityType": {
            "enum": [
              "USER",
              "PRODUCT",
              "BATCH",
              "INVENTORY",
              "SALE",
              "CHECKOUT",
              "CART",
              "COOPERATIVE",
              "COOPERATIVE_MEMBER",
              "CUSTOMER",
              "REPORT",
              "SYSTEM",
              "CONFIGURATION",
              "AUTHENTICATION"
            ],
            "type": "string",
            "description": "Type of entity affected",
            "example": "PRODUCT"
          },
          "entityId": {
            "type": "string",
            "description": "ID of the entity affected",
            "example": "456e7890-e89b-12d3-a456-426614174111"
          },
          "description": {
            "type": "string",
            "description": "Human-readable description of the action",
            "example": "Created product 'Organic Shea Butter 500g'"
          },
          "performedByUserId": {
            "type": "string",
            "description": "ID of user who performed the action",
            "example": "789e1234-e89b-12d3-a456-426614174222"
          },
          "performedByUserName": {
            "type": "string",
            "description": "Name of user who performed the action",
            "example": "John Doe"
          },
          "performedByRole": {
            "enum": ["user", "admin", "superadmin"],
            "type": "string",
            "description": "Role of user who performed the action",
            "example": "admin"
          },
          "ipAddress": {
            "type": "string",
            "description": "IP address from which action was performed",
            "example": "192.168.1.1"
          },
          "userAgent": {
            "type": "string",
            "description": "User agent string of the client",
            "example": "Mozilla/5.0..."
          },
          "timestamp": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp when action was performed",
            "example": "2023-12-24T10:30:00Z"
          },
          "metadata": {
            "type": "object",
            "description": "Additional metadata (before/after values, etc.)",
            "example": { "before": { "price": 100 }, "after": { "price": 120 } }
          }
        },
        "required": [
          "id",
          "actionType",
          "entityType",
          "description",
          "performedByUserId",
          "performedByRole",
          "timestamp"
        ]
      },
      "RegisterUserDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "User full name", "example": "John Doe" },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User email address",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "description": "User password (min 8 chars, 1 uppercase, 1 lowercase, 1 number, 1 symbol)",
            "example": "Password123!"
          },
          "confirmPassword": {
            "type": "string",
            "description": "Password confirmation",
            "example": "Password123!"
          },
          "userType": {
            "enum": ["user", "admin", "superadmin"],
            "type": "string",
            "description": "User role type",
            "example": "user"
          },
          "phoneNumber": {
            "type": "string",
            "description": "User phone number",
            "example": "+233244123456"
          },
          "sessionId": {
            "type": "string",
            "description": "Guest session ID to sync cart items (optional, for guest users signing up)",
            "example": "guest-1234567890"
          }
        },
        "required": ["name", "email", "password", "confirmPassword", "userType"]
      },
      "Role": { "type": "string", "enum": ["user", "admin", "superadmin"] },
      "UserResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the user",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "email": {
            "type": "string",
            "description": "Email address of the user",
            "example": "user@example.com"
          },
          "name": {
            "type": "string",
            "description": "Full name of the user",
            "example": "John Doe"
          },
          "userType": {
            "description": "User role/type",
            "example": "superadmin",
            "allOf": [{ "$ref": "#/components/schemas/Role" }]
          },
          "phoneNumber": {
            "type": "string",
            "description": "Phone number of the user",
            "example": "+233123456789"
          },
          "permissions": {
            "type": "string",
            "description": "User permissions",
            "example": "read,write,delete"
          },
          "avatarUrl": {
            "type": "string",
            "description": "URL of the user's avatar",
            "example": "https://example.com/avatars/user.jpg"
          },
          "mustChangePassword": {
            "type": "boolean",
            "description": "Whether the user must change their password on next login",
            "example": false
          },
          "rememberToken": { "type": "string", "description": "Remember token for authentication" },
          "status": {
            "enum": ["active", "inactive", "suspended"],
            "type": "string",
            "description": "User account status",
            "example": "active"
          },
          "dob": {
            "format": "date-time",
            "type": "string",
            "description": "Date of birth",
            "example": "1990-01-01"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Account creation date",
            "example": "2024-12-09T00:00:00.000Z"
          },
          "emailVerifiedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Email verification date",
            "example": "2024-12-09T00:00:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Last update date",
            "example": "2024-12-09T00:00:00.000Z"
          }
        },
        "required": [
          "id",
          "email",
          "name",
          "userType",
          "mustChangePassword",
          "status",
          "createdAt",
          "updatedAt"
        ]
      },
      "AuthResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Response message",
            "example": "User registration successful"
          },
          "data": {
            "description": "User data",
            "allOf": [{ "$ref": "#/components/schemas/UserResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "ValidationErrorResponseDto": {
        "type": "object",
        "properties": {
          "statusCode": { "type": "number", "description": "HTTP status code", "example": 400 },
          "message": {
            "description": "Detailed validation errors",
            "example": ["email must be a valid email", "password is required"],
            "items": { "type": "array" },
            "type": "array"
          },
          "error": {
            "type": "string",
            "description": "Error type/reason",
            "example": "Bad Request"
          }
        },
        "required": ["statusCode", "message", "error"]
      },
      "ErrorResponseDto": {
        "type": "object",
        "properties": {
          "statusCode": { "type": "number", "description": "HTTP status code", "example": 400 },
          "message": {
            "type": "string",
            "description": "Error message",
            "example": "Validation failed"
          },
          "error": {
            "type": "string",
            "description": "Error type/reason",
            "example": "Bad Request"
          }
        },
        "required": ["statusCode", "message", "error"]
      },
      "VerifyPhoneDto": {
        "type": "object",
        "properties": { "phoneNumber": { "type": "string" }, "code": { "type": "string" } },
        "required": ["phoneNumber", "code"]
      },
      "PhoneVerificationResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Phone verification successful"
          },
          "data": {
            "description": "User data with verified phone",
            "allOf": [{ "$ref": "#/components/schemas/UserResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "CustomerSignupResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message with verification instructions",
            "example": "Email has been sent to user@example.com. Please verify your email"
          },
          "data": {
            "description": "User data",
            "allOf": [{ "$ref": "#/components/schemas/UserResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "SignInDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "User email address",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "description": "User password",
            "example": "Password123!"
          },
          "sessionId": {
            "type": "string",
            "description": "Guest session ID to sync cart items (optional, for guest users logging in)",
            "example": "guest-1234567890"
          }
        },
        "required": ["email", "password"]
      },
      "LoginResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "You have successfully logged in"
          },
          "data": {
            "type": "object",
            "properties": {
              "user": { "$ref": "#/components/schemas/UserResponseDto" },
              "accessToken": { "type": "string" }
            },
            "required": ["user", "accessToken"]
          }
        },
        "required": ["message", "data"]
      },
      "ForgotPasswordDto": {
        "type": "object",
        "properties": { "email": { "type": "string", "format": "email" } },
        "required": ["email"]
      },
      "PasswordResetEmailResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message with email address",
            "example": "We have sent a reset email to user@example.com"
          },
          "data": {
            "description": "User data",
            "allOf": [{ "$ref": "#/components/schemas/UserResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "ResetPasswordDto": {
        "type": "object",
        "properties": {
          "token": { "type": "string" },
          "password": { "type": "string" },
          "confirmPassword": { "type": "string" }
        },
        "required": ["token", "password", "confirmPassword"]
      },
      "PasswordResetResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "You have successfully reset your password"
          },
          "data": {
            "description": "User data",
            "allOf": [{ "$ref": "#/components/schemas/UserResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "LogoutResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Logged out successfully"
          }
        },
        "required": ["message"]
      },
      "CreateAdminDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "email": { "type": "string", "format": "email" }
        },
        "required": ["name", "email"]
      },
      "AdminCreationResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message with email notification",
            "example": "Admin account created successfully. Credentials have been sent to admin@maltitiaenterprise.com"
          },
          "data": {
            "description": "Admin user data (password excluded)",
            "allOf": [{ "$ref": "#/components/schemas/UserResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "ChangePasswordDto": {
        "type": "object",
        "properties": {
          "currentPassword": { "type": "string" },
          "newPassword": { "type": "string" },
          "confirmPassword": { "type": "string" }
        },
        "required": ["currentPassword", "newPassword", "confirmPassword"]
      },
      "PasswordChangeResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Password changed successfully"
          },
          "data": {
            "description": "User data",
            "allOf": [{ "$ref": "#/components/schemas/UserResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "ResendVerificationDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address to resend verification to",
            "example": "user@example.com"
          }
        },
        "required": ["email"]
      },
      "ResendVerificationResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message with email address",
            "example": "Verification email has been resent to user@example.com"
          },
          "data": {
            "description": "User data",
            "allOf": [{ "$ref": "#/components/schemas/UserResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "UpdateUserDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "email": { "type": "string", "format": "email" },
          "phoneNumber": { "type": "string" },
          "userType": { "type": "string", "enum": ["user", "admin", "superadmin"] },
          "status": { "type": "string", "enum": ["active", "inactive", "suspended"] },
          "dob": { "type": "string" }
        }
      },
      "ChangeStatusDto": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["active", "inactive", "suspended"] }
        },
        "required": ["status"]
      },
      "ChangeRoleDto": {
        "type": "object",
        "properties": { "userType": { "type": "string", "enum": ["user", "admin", "superadmin"] } },
        "required": ["userType"]
      },
      "AddCooperativeDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 200,
            "description": "The name of the cooperative",
            "example": "Shea Women's Cooperative Union"
          },
          "community": {
            "type": "string",
            "minLength": 2,
            "maxLength": 150,
            "description": "The community or location where the cooperative operates",
            "example": "Tamale, Northern Region"
          },
          "registrationFee": {
            "type": "string",
            "description": "The registration fee for joining the cooperative (in local currency)",
            "example": "50.00"
          },
          "monthlyFee": {
            "type": "string",
            "description": "The monthly membership fee for the cooperative (in local currency)",
            "example": "10.00"
          },
          "minimalShare": {
            "type": "string",
            "description": "The minimum share amount required for membership (in local currency)",
            "example": "100.00"
          }
        },
        "required": ["name", "community", "registrationFee", "monthlyFee", "minimalShare"]
      },
      "EditCooperativeDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The UUID of the cooperative to edit",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 200,
            "description": "The updated name of the cooperative",
            "example": "Shea Women's Cooperative Union"
          },
          "community": {
            "type": "string",
            "minLength": 2,
            "maxLength": 150,
            "description": "The updated community or location where the cooperative operates",
            "example": "Tamale, Northern Region"
          },
          "registrationFee": {
            "type": "string",
            "description": "The updated registration fee for joining the cooperative (in local currency)",
            "example": "50.00"
          },
          "monthlyFee": {
            "type": "string",
            "description": "The updated monthly membership fee for the cooperative (in local currency)",
            "example": "10.00"
          },
          "minimalShare": {
            "type": "string",
            "description": "The updated minimum share amount required for membership (in local currency)",
            "example": "100.00"
          }
        },
        "required": ["id", "name", "community", "registrationFee", "monthlyFee", "minimalShare"]
      },
      "IdType": {
        "type": "string",
        "enum": ["Ghana Card", "Voter ID", "Passport", "Driver License", "NHIS Card"]
      },
      "GhanaRegion": {
        "type": "string",
        "enum": [
          "Ahafo Region",
          "Ashanti Region",
          "Bono East Region",
          "Bono Region",
          "Central Region",
          "Eastern Region",
          "Greater Accra Region",
          "North East Region",
          "Northern Region",
          "Oti Region",
          "Savannah Region",
          "Upper East Region",
          "Upper West Region",
          "Volta Region",
          "Western North Region",
          "Western Region"
        ]
      },
      "EducationLevel": {
        "type": "string",
        "enum": [
          "No Formal Education",
          "Primary School",
          "Junior High School",
          "Senior High School",
          "Tertiary Education",
          "Vocational Training"
        ]
      },
      "AddCooperativeMemberDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "description": "The full name of the cooperative member",
            "example": "Fatima Abdul-Rahman"
          },
          "cooperative": {
            "type": "string",
            "description": "The UUID of the cooperative this member belongs to",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "phoneNumber": {
            "type": "string",
            "minLength": 10,
            "maxLength": 20,
            "description": "The phone number of the member (must be unique, Ghana format)",
            "example": "+233244123456"
          },
          "houseNumber": {
            "type": "string",
            "maxLength": 50,
            "description": "The house number or residential address identifier",
            "example": "House 42B"
          },
          "gpsAddress": {
            "type": "string",
            "maxLength": 20,
            "description": "The GPS address or digital address",
            "example": "GT-0123-4567"
          },
          "image": {
            "type": "string",
            "description": "The profile image URL or file reference (uploaded separately)",
            "example": "https://s3.amazonaws.com/bucket/member-photos/image.jpg"
          },
          "idType": {
            "description": "The type of identification document (e.g., National ID, Voter ID, Passport)",
            "example": "Ghana Card",
            "allOf": [{ "$ref": "#/components/schemas/IdType" }]
          },
          "idNumber": {
            "type": "string",
            "minLength": 5,
            "maxLength": 50,
            "description": "The identification number (must be unique)",
            "example": "GHA-123456789-0"
          },
          "community": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "The community or locality where the member resides",
            "example": "Savelugu"
          },
          "district": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "The district where the member resides",
            "example": "Savelugu Municipal"
          },
          "region": {
            "description": "The region of Ghana where the member resides",
            "example": "Northern Region",
            "allOf": [{ "$ref": "#/components/schemas/GhanaRegion" }]
          },
          "dob": {
            "type": "string",
            "description": "The date of birth of the member (ISO 8601 format)",
            "example": "1985-06-15",
            "format": "date"
          },
          "education": {
            "description": "The highest level of education attained",
            "example": "Junior High School",
            "allOf": [{ "$ref": "#/components/schemas/EducationLevel" }]
          },
          "occupation": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "The primary occupation of the member",
            "example": "Shea Butter Producer"
          },
          "secondaryOccupation": {
            "type": "string",
            "maxLength": 100,
            "description": "The secondary occupation of the member (if any)",
            "example": "Farmer"
          },
          "crops": {
            "type": "string",
            "maxLength": 200,
            "description": "The types of crops cultivated by the member (comma-separated)",
            "example": "Shea nuts, Groundnuts, Maize"
          },
          "farmSize": {
            "type": "number",
            "minimum": 0,
            "maximum": 10000,
            "description": "The size of the farm in acres",
            "example": 5.5
          }
        },
        "required": [
          "name",
          "cooperative",
          "phoneNumber",
          "houseNumber",
          "gpsAddress",
          "idType",
          "idNumber",
          "community",
          "district",
          "region",
          "dob",
          "education",
          "occupation",
          "crops",
          "farmSize"
        ]
      },
      "EditCooperativeMemberDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The UUID of the cooperative member to edit",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "name": {
            "type": "string",
            "minLength": 3,
            "maxLength": 100,
            "description": "The updated full name of the cooperative member",
            "example": "Fatima Abdul-Rahman"
          },
          "cooperative": {
            "type": "string",
            "description": "The UUID of the cooperative this member belongs to",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "phoneNumber": {
            "type": "string",
            "minLength": 10,
            "maxLength": 20,
            "description": "The updated phone number of the member (must be unique, Ghana format)",
            "example": "+233244123456"
          },
          "houseNumber": {
            "type": "string",
            "maxLength": 50,
            "description": "The updated house number or residential address identifier",
            "example": "House 42B"
          },
          "gpsAddress": {
            "type": "string",
            "maxLength": 20,
            "description": "The updated GPS address or digital address",
            "example": "GT-0123-4567"
          },
          "image": {
            "type": "string",
            "description": "The updated profile image URL or file reference (uploaded separately)",
            "example": "https://s3.amazonaws.com/bucket/member-photos/image.jpg"
          },
          "idType": {
            "enum": ["Ghana Card", "Voter ID", "Passport", "Driver License", "NHIS Card"],
            "type": "string",
            "description": "The updated type of identification document (e.g., National ID, Voter ID, Passport)",
            "example": "Ghana Card"
          },
          "idNumber": {
            "type": "string",
            "minLength": 5,
            "maxLength": 50,
            "description": "The updated identification number (must be unique)",
            "example": "GHA-123456789-0"
          },
          "community": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "The updated community or locality where the member resides",
            "example": "Savelugu"
          },
          "district": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "The updated district where the member resides",
            "example": "Savelugu Municipal"
          },
          "region": {
            "enum": [
              "Ahafo Region",
              "Ashanti Region",
              "Bono East Region",
              "Bono Region",
              "Central Region",
              "Eastern Region",
              "Greater Accra Region",
              "North East Region",
              "Northern Region",
              "Oti Region",
              "Savannah Region",
              "Upper East Region",
              "Upper West Region",
              "Volta Region",
              "Western North Region",
              "Western Region"
            ],
            "type": "string",
            "description": "The updated region of Ghana where the member resides",
            "example": "Northern Region"
          },
          "dob": {
            "type": "string",
            "description": "The updated date of birth of the member (ISO 8601 format)",
            "example": "1985-06-15",
            "format": "date"
          },
          "education": {
            "enum": [
              "No Formal Education",
              "Primary School",
              "Junior High School",
              "Senior High School",
              "Tertiary Education",
              "Vocational Training"
            ],
            "type": "string",
            "description": "The updated highest level of education attained",
            "example": "Junior High School"
          },
          "occupation": {
            "type": "string",
            "minLength": 2,
            "maxLength": 100,
            "description": "The updated primary occupation of the member",
            "example": "Shea Butter Producer"
          },
          "secondaryOccupation": {
            "type": "string",
            "maxLength": 100,
            "description": "The updated secondary occupation of the member (if any)",
            "example": "Farmer"
          },
          "crops": {
            "type": "string",
            "maxLength": 200,
            "description": "The updated types of crops cultivated by the member (comma-separated)",
            "example": "Shea nuts, Groundnuts, Maize"
          },
          "farmSize": {
            "type": "number",
            "minimum": 0,
            "maximum": 10000,
            "description": "The updated size of the farm in acres",
            "example": 5.5
          }
        },
        "required": [
          "id",
          "name",
          "cooperative",
          "phoneNumber",
          "houseNumber",
          "gpsAddress",
          "idType",
          "idNumber",
          "community",
          "district",
          "region",
          "dob",
          "education",
          "occupation",
          "crops",
          "farmSize"
        ]
      },
      "ProductCategory": {
        "type": "string",
        "enum": [
          "Shea Butter",
          "Black Soap",
          "Cosmetics",
          "Shea Soap",
          "Powdered Soap",
          "Dawadawa",
          "Essential Oils",
          "Hair Oil",
          "Grains",
          "Legumes",
          "Other"
        ]
      },
      "ProductStatus": {
        "type": "string",
        "enum": ["active", "inactive", "out_of_stock", "discontinued"]
      },
      "ProductGrade": { "type": "string", "enum": ["A", "B", "premium", "standard", "organic"] },
      "UnitOfMeasurement": {
        "type": "string",
        "enum": ["kilogram", "gram", "litre", "millilitre"]
      },
      "ProductSortBy": {
        "type": "string",
        "enum": ["name", "retail", "createdAt", "stockQuantity", "rating"]
      },
      "SortOrder": { "type": "string", "enum": ["ASC", "DESC"] },
      "Batch": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "batchNumber": { "type": "string" },
          "productionDate": { "format": "date-time", "type": "string" },
          "expiryDate": { "format": "date-time", "type": "string" },
          "manufacturingLocation": { "type": "string" },
          "qualityCheckStatus": { "type": "string" },
          "notes": { "type": "string" },
          "quantity": { "type": "number" },
          "isActive": { "type": "boolean" },
          "product": { "$ref": "#/components/schemas/Product" },
          "createdAt": { "format": "date-time", "type": "string" },
          "updatedAt": { "format": "date-time", "type": "string" },
          "deletedAt": { "format": "date-time", "type": "string" }
        },
        "required": [
          "id",
          "batchNumber",
          "productionDate",
          "expiryDate",
          "manufacturingLocation",
          "qualityCheckStatus",
          "notes",
          "quantity",
          "isActive",
          "product",
          "createdAt",
          "updatedAt",
          "deletedAt"
        ]
      },
      "Product": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "sku": { "type": "string" },
          "name": { "type": "string" },
          "ingredients": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/Ingredient" }
          },
          "weight": { "type": "string" },
          "unitOfMeasurement": {
            "type": "string",
            "enum": ["kilogram", "gram", "litre", "millilitre"]
          },
          "category": {
            "type": "string",
            "enum": [
              "Shea Butter",
              "Black Soap",
              "Cosmetics",
              "Shea Soap",
              "Powdered Soap",
              "Dawadawa",
              "Essential Oils",
              "Hair Oil",
              "Grains",
              "Legumes",
              "Other"
            ]
          },
          "description": { "type": "string" },
          "status": {
            "type": "string",
            "enum": ["active", "inactive", "out_of_stock", "discontinued"]
          },
          "images": { "type": "array", "items": { "type": "string" } },
          "image": { "type": "string" },
          "wholesale": { "type": "number" },
          "retail": { "type": "number" },
          "inBoxPrice": { "type": "number" },
          "quantityInBox": { "type": "number" },
          "favorite": { "type": "boolean" },
          "rating": { "type": "number" },
          "reviews": { "type": "number" },
          "grade": { "type": "string", "enum": ["A", "B", "premium", "standard", "organic"] },
          "isFeatured": { "type": "boolean" },
          "isOrganic": { "type": "boolean" },
          "certifications": { "type": "array", "items": { "type": "string" } },
          "supplierReference": { "type": "string" },
          "minOrderQuantity": { "type": "number" },
          "costPrice": { "type": "number" },
          "batches": { "type": "array", "items": { "$ref": "#/components/schemas/Batch" } },
          "createdAt": { "format": "date-time", "type": "string" },
          "updatedAt": { "format": "date-time", "type": "string" },
          "deletedAt": { "format": "date-time", "type": "string" }
        },
        "required": [
          "id",
          "sku",
          "name",
          "ingredients",
          "weight",
          "unitOfMeasurement",
          "category",
          "description",
          "status",
          "images",
          "image",
          "wholesale",
          "retail",
          "inBoxPrice",
          "quantityInBox",
          "favorite",
          "rating",
          "reviews",
          "grade",
          "isFeatured",
          "isOrganic",
          "certifications",
          "supplierReference",
          "minOrderQuantity",
          "costPrice",
          "batches",
          "createdAt",
          "updatedAt",
          "deletedAt"
        ]
      },
      "Ingredient": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "products": { "type": "array", "items": { "$ref": "#/components/schemas/Product" } },
          "id": { "type": "string" },
          "createdAt": { "format": "date-time", "type": "string" },
          "updatedAt": { "format": "date-time", "type": "string" },
          "deletedAt": { "format": "date-time", "type": "string" }
        },
        "required": ["name", "products", "id", "createdAt", "updatedAt", "deletedAt"]
      },
      "ProductResponseDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "example": "123e4567-e89b-12d3-a456-426614174000" },
          "sku": { "type": "string", "example": "SB-WHT-1KG-001" },
          "name": { "type": "string", "example": "White Shea Butter Grade A" },
          "ingredients": {
            "example": ["100% Pure Shea Butter", "No additives"],
            "type": "array",
            "items": { "$ref": "#/components/schemas/Ingredient" }
          },
          "weight": { "type": "string", "example": "1kg" },
          "unitOfMeasurement": {
            "enum": ["kilogram", "gram", "litre", "millilitre"],
            "type": "string",
            "example": "kilogram"
          },
          "category": {
            "enum": [
              "Shea Butter",
              "Black Soap",
              "Cosmetics",
              "Shea Soap",
              "Powdered Soap",
              "Dawadawa",
              "Essential Oils",
              "Hair Oil",
              "Grains",
              "Legumes",
              "Other"
            ],
            "type": "string",
            "example": "Shea Butter"
          },
          "description": {
            "type": "string",
            "example": "Premium white shea butter extracted from organic shea nuts in Northern Ghana."
          },
          "status": {
            "enum": ["active", "inactive", "out_of_stock", "discontinued"],
            "type": "string",
            "example": "active"
          },
          "images": {
            "example": ["https://example.com/image1.jpg", "https://example.com/image2.jpg"],
            "type": "array",
            "items": { "type": "string" }
          },
          "image": { "type": "string", "example": "https://example.com/primary-image.jpg" },
          "wholesale": {
            "type": "number",
            "description": "Wholesale price per unit",
            "example": 15
          },
          "retail": { "type": "number", "description": "Retail price per unit", "example": 20 },
          "inBoxPrice": { "type": "number", "description": "Price for a full box", "example": 180 },
          "quantityInBox": { "type": "number", "example": 12 },
          "favorite": { "type": "boolean", "example": false },
          "rating": { "type": "number", "example": 4.5 },
          "reviews": { "type": "number", "example": 23 },
          "grade": {
            "enum": ["A", "B", "premium", "standard", "organic"],
            "type": "string",
            "example": "A"
          },
          "isFeatured": { "type": "boolean", "example": false },
          "isOrganic": { "type": "boolean", "example": true },
          "certifications": {
            "example": ["Ecocert", "FDA", "GSA"],
            "type": "array",
            "items": { "type": "string" }
          },
          "supplierReference": { "type": "string", "example": "SUP-2024-001" },
          "minOrderQuantity": { "type": "number", "example": 5 },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "example": "2024-01-20T15:45:00.000Z"
          }
        },
        "required": [
          "id",
          "sku",
          "name",
          "ingredients",
          "weight",
          "unitOfMeasurement",
          "category",
          "description",
          "status",
          "images",
          "image",
          "wholesale",
          "retail",
          "favorite",
          "rating",
          "reviews",
          "grade",
          "isFeatured",
          "isOrganic",
          "certifications",
          "supplierReference",
          "minOrderQuantity",
          "createdAt",
          "updatedAt"
        ]
      },
      "ProductsPaginationResponse": {
        "type": "object",
        "properties": {
          "totalItems": { "type": "number", "example": 50 },
          "currentPage": { "type": "number", "example": 1 },
          "totalPages": { "type": "number", "example": 5 },
          "items": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/ProductResponseDto" }
          }
        },
        "required": ["totalItems", "currentPage", "totalPages", "items"]
      },
      "ProductPaginationApiResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Products loaded successfully",
            "description": "Response message indicating whether products are personalized or curated"
          },
          "data": { "$ref": "#/components/schemas/ProductsPaginationResponse" }
        },
        "required": ["message", "data"]
      },
      "BestProductsResponseDto": {
        "type": "object",
        "properties": {
          "totalItems": { "type": "number", "example": 8 },
          "data": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/ProductResponseDto" }
          }
        },
        "required": ["totalItems", "data"]
      },
      "BestProductsApiResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Personalized products loaded successfully",
            "description": "Response message indicating whether products are personalized or curated"
          },
          "data": { "$ref": "#/components/schemas/BestProductsResponseDto" }
        },
        "required": ["message", "data"]
      },
      "SingleProductResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Product loaded successfully",
            "description": "Response message indicating whether product is loaded"
          },
          "data": { "$ref": "#/components/schemas/ProductResponseDto" }
        },
        "required": ["message", "data"]
      },
      "CreateProductDto": {
        "type": "object",
        "properties": {
          "sku": {
            "type": "string",
            "description": "Unique SKU code for the product",
            "example": "SB-WHT-1KG-001"
          },
          "name": {
            "type": "string",
            "description": "Product name",
            "example": "White Shea Butter Grade A"
          },
          "ingredients": {
            "minItems": 1,
            "description": "Product ingredients (comma-separated or array)",
            "example": ["100% Pure Shea Butter", "No additives"],
            "type": "array",
            "items": { "type": "string" }
          },
          "weight": {
            "type": "string",
            "description": "Product weight description",
            "example": "1"
          },
          "unitOfMeasurement": {
            "enum": ["kilogram", "gram", "litre", "millilitre"],
            "type": "string",
            "description": "Unit of measurement for the product weight",
            "example": "kilogram"
          },
          "category": {
            "enum": [
              "Shea Butter",
              "Black Soap",
              "Cosmetics",
              "Shea Soap",
              "Powdered Soap",
              "Dawadawa",
              "Essential Oils",
              "Hair Oil",
              "Grains",
              "Legumes",
              "Other"
            ],
            "type": "string",
            "description": "Product category",
            "example": "Shea Butter"
          },
          "description": {
            "type": "string",
            "description": "Detailed product description",
            "example": "Premium white shea butter extracted from organic shea nuts in Northern Ghana."
          },
          "status": {
            "default": "active",
            "enum": ["active", "inactive", "out_of_stock", "discontinued"],
            "type": "string",
            "description": "Product status",
            "example": "active"
          },
          "images": {
            "description": "Product images URLs",
            "example": ["https://example.com/image1.jpg", "https://example.com/image2.jpg"],
            "type": "array",
            "items": { "type": "string" }
          },
          "image": {
            "type": "string",
            "description": "Primary product image URL (for backward compatibility)",
            "example": "https://example.com/primary-image.jpg"
          },
          "wholesale": {
            "type": "number",
            "description": "Wholesale price per unit",
            "example": 15
          },
          "retail": { "type": "number", "description": "Retail price per unit", "example": 20 },
          "inBoxPrice": { "type": "number", "description": "Price for a full box", "example": 180 },
          "quantityInBox": {
            "type": "number",
            "minimum": 1,
            "description": "Quantity of items in one box",
            "example": 12
          },
          "grade": {
            "enum": ["A", "B", "premium", "standard", "organic"],
            "type": "string",
            "description": "Product grade/quality",
            "example": "A"
          },
          "isFeatured": {
            "type": "boolean",
            "default": false,
            "description": "Whether product is featured",
            "example": false
          },
          "isOrganic": {
            "type": "boolean",
            "default": false,
            "description": "Whether product is organic certified",
            "example": true
          },
          "certifications": {
            "description": "Product certifications",
            "example": ["Ecocert", "FDA", "GSA"],
            "type": "array",
            "items": { "type": "string" }
          },
          "supplierReference": {
            "type": "string",
            "description": "Supplier reference ID",
            "example": "SUP-2024-001"
          },
          "minOrderQuantity": {
            "type": "number",
            "default": 0,
            "minimum": 0,
            "description": "Minimum order quantity",
            "example": 5
          },
          "costPrice": {
            "type": "number",
            "minimum": 0,
            "description": "Cost price for internal tracking",
            "example": 35
          }
        },
        "required": ["name", "ingredients", "category", "description", "wholesale", "retail"]
      },
      "UpdateProductDto": {
        "type": "object",
        "properties": {
          "sku": {
            "type": "string",
            "description": "Unique SKU code for the product",
            "example": "SB-WHT-1KG-001"
          },
          "name": {
            "type": "string",
            "description": "Product name",
            "example": "White Shea Butter Grade A"
          },
          "ingredients": {
            "minItems": 1,
            "description": "Product ingredients (comma-separated or array)",
            "example": ["100% Pure Shea Butter", "No additives"],
            "type": "array",
            "items": { "type": "string" }
          },
          "weight": {
            "type": "string",
            "description": "Product weight description",
            "example": "1"
          },
          "unitOfMeasurement": {
            "enum": ["kilogram", "gram", "litre", "millilitre"],
            "type": "string",
            "description": "Unit of measurement for the product weight",
            "example": "kilogram"
          },
          "category": {
            "enum": [
              "Shea Butter",
              "Black Soap",
              "Cosmetics",
              "Shea Soap",
              "Powdered Soap",
              "Dawadawa",
              "Essential Oils",
              "Hair Oil",
              "Grains",
              "Legumes",
              "Other"
            ],
            "type": "string",
            "description": "Product category",
            "example": "Shea Butter"
          },
          "description": {
            "type": "string",
            "description": "Detailed product description",
            "example": "Premium white shea butter extracted from organic shea nuts in Northern Ghana."
          },
          "status": {
            "default": "active",
            "enum": ["active", "inactive", "out_of_stock", "discontinued"],
            "type": "string",
            "description": "Product status",
            "example": "active"
          },
          "images": {
            "description": "Product images URLs",
            "example": ["https://example.com/image1.jpg", "https://example.com/image2.jpg"],
            "type": "array",
            "items": { "type": "string" }
          },
          "image": {
            "type": "string",
            "description": "Primary product image URL (for backward compatibility)",
            "example": "https://example.com/primary-image.jpg"
          },
          "wholesale": {
            "type": "number",
            "description": "Wholesale price per unit",
            "example": 15
          },
          "retail": { "type": "number", "description": "Retail price per unit", "example": 20 },
          "inBoxPrice": { "type": "number", "description": "Price for a full box", "example": 180 },
          "quantityInBox": {
            "type": "number",
            "minimum": 1,
            "description": "Quantity of items in one box",
            "example": 12
          },
          "grade": {
            "enum": ["A", "B", "premium", "standard", "organic"],
            "type": "string",
            "description": "Product grade/quality",
            "example": "A"
          },
          "isFeatured": {
            "type": "boolean",
            "default": false,
            "description": "Whether product is featured",
            "example": false
          },
          "isOrganic": {
            "type": "boolean",
            "default": false,
            "description": "Whether product is organic certified",
            "example": true
          },
          "certifications": {
            "description": "Product certifications",
            "example": ["Ecocert", "FDA", "GSA"],
            "type": "array",
            "items": { "type": "string" }
          },
          "supplierReference": {
            "type": "string",
            "description": "Supplier reference ID",
            "example": "SUP-2024-001"
          },
          "minOrderQuantity": {
            "type": "number",
            "default": 0,
            "minimum": 0,
            "description": "Minimum order quantity",
            "example": 5
          },
          "costPrice": {
            "type": "number",
            "minimum": 0,
            "description": "Cost price for internal tracking",
            "example": 35
          },
          "isMinorUpdate": {
            "type": "boolean",
            "description": "Whether to mark this update as a minor change",
            "example": false
          }
        }
      },
      "CreateBatchDto": {
        "type": "object",
        "properties": {
          "batchNumber": {
            "type": "string",
            "description": "Unique batch number (auto-generated if not provided)",
            "example": "SHKR-251209-001"
          },
          "productId": {
            "type": "string",
            "description": "ID of the product this batch belongs to",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "quantity": {
            "type": "number",
            "minimum": 0,
            "description": "Quantity of items in this batch",
            "example": 100
          },
          "productionDate": {
            "type": "string",
            "description": "Production/manufacturing date",
            "example": "2024-01-15"
          },
          "expiryDate": { "type": "string", "description": "Expiry date", "example": "2026-01-15" },
          "manufacturingLocation": {
            "type": "string",
            "description": "Manufacturing location",
            "example": "Tamale Production Facility"
          },
          "qualityCheckStatus": {
            "type": "string",
            "description": "Quality check status",
            "example": "Passed"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes about the batch",
            "example": "Premium quality shea nuts sourced from Yendi"
          }
        },
        "required": ["productId", "quantity"]
      },
      "BatchResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the batch",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "batchNumber": {
            "type": "string",
            "description": "Unique batch number",
            "example": "BATCH-2024-12-001"
          },
          "productionDate": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the batch was produced",
            "example": "2024-12-01"
          },
          "expiryDate": {
            "format": "date-time",
            "type": "string",
            "description": "Date when the batch expires",
            "example": "2026-12-01"
          },
          "manufacturingLocation": {
            "type": "string",
            "description": "Location where the batch was manufactured",
            "example": "Tamale Production Facility"
          },
          "qualityCheckStatus": {
            "type": "string",
            "description": "Quality check status of the batch",
            "example": "Passed"
          },
          "notes": {
            "type": "string",
            "description": "Additional notes about the batch",
            "example": "High quality batch from premium raw materials"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of items in the batch",
            "example": 500
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the batch is active",
            "example": true
          },
          "product": {
            "description": "Associated product",
            "allOf": [{ "$ref": "#/components/schemas/ProductResponseDto" }]
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Batch creation date",
            "example": "2024-12-09T00:00:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Last update date",
            "example": "2024-12-09T00:00:00.000Z"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Deletion date (soft delete)",
            "example": null
          }
        },
        "required": [
          "id",
          "batchNumber",
          "quantity",
          "isActive",
          "product",
          "createdAt",
          "updatedAt"
        ]
      },
      "CreateIngredientDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "The name of the ingredient. Must be unique." }
        },
        "required": ["name"]
      },
      "UpdateIngredientDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the ingredient. Must be unique if provided."
          }
        }
      },
      "CartProductDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Product ID",
            "example": "660e8400-e29b-41d4-a716-446655440001"
          },
          "sku": {
            "type": "string",
            "nullable": true,
            "description": "Product SKU",
            "example": "PRD-001"
          },
          "name": {
            "type": "string",
            "description": "Product name",
            "example": "Premium Shea Butter"
          },
          "category": {
            "enum": [
              "Shea Butter",
              "Black Soap",
              "Cosmetics",
              "Shea Soap",
              "Powdered Soap",
              "Dawadawa",
              "Essential Oils",
              "Hair Oil",
              "Grains",
              "Legumes",
              "Other"
            ],
            "type": "string",
            "description": "Product category",
            "example": "Shea Butter"
          },
          "description": {
            "type": "string",
            "nullable": true,
            "description": "Product description",
            "example": "High-quality organic shea butter"
          },
          "status": {
            "enum": ["active", "inactive", "out_of_stock", "discontinued"],
            "type": "string",
            "description": "Product status",
            "example": "active"
          },
          "images": {
            "nullable": true,
            "description": "Product images URLs",
            "example": ["https://example.com/image1.jpg"],
            "type": "array",
            "items": { "type": "string" }
          },
          "image": {
            "type": "string",
            "nullable": true,
            "description": "Main product image URL",
            "example": "https://example.com/main-image.jpg"
          },
          "wholesale": { "type": "number", "description": "Wholesale price", "example": 80 },
          "retail": { "type": "number", "description": "Retail price", "example": 100 },
          "inBoxPrice": {
            "type": "number",
            "nullable": true,
            "description": "In-box price",
            "example": 75
          },
          "quantityInBox": {
            "type": "number",
            "nullable": true,
            "description": "Quantity per box",
            "example": 12
          },
          "favorite": {
            "type": "boolean",
            "description": "Is product marked as favorite",
            "example": false
          },
          "rating": { "type": "number", "description": "Product rating", "example": 4.5 },
          "reviews": { "type": "number", "description": "Number of reviews", "example": 25 },
          "weight": {
            "type": "string",
            "nullable": true,
            "description": "Product weight",
            "example": "500g"
          }
        },
        "required": [
          "id",
          "sku",
          "name",
          "category",
          "description",
          "status",
          "images",
          "image",
          "wholesale",
          "retail",
          "inBoxPrice",
          "quantityInBox",
          "favorite",
          "rating",
          "reviews",
          "weight"
        ]
      },
      "CartItemDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Cart item ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "product": {
            "description": "Product details",
            "allOf": [{ "$ref": "#/components/schemas/CartProductDto" }]
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of product in cart",
            "example": 2
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Cart item creation date",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Cart item last update date",
            "example": "2024-01-15T10:30:00.000Z"
          }
        },
        "required": ["id", "product", "quantity", "createdAt", "updatedAt"]
      },
      "CartDataDto": {
        "type": "object",
        "properties": {
          "items": {
            "description": "Array of cart items",
            "example": [
              {
                "id": "550e8400-e29b-41d4-a716-446655440000",
                "quantity": 2,
                "product": {
                  "id": "660e8400-e29b-41d4-a716-446655440001",
                  "name": "Premium Shea Butter",
                  "sku": "PRD-001",
                  "category": "SHEA_BUTTER",
                  "retail": 100,
                  "wholesale": 80,
                  "image": "https://example.com/image.jpg",
                  "images": ["https://example.com/image1.jpg"],
                  "status": "ACTIVE",
                  "favorite": false,
                  "rating": 4.5,
                  "reviews": 25
                },
                "createdAt": "2024-01-15T10:30:00.000Z",
                "updatedAt": "2024-01-15T10:30:00.000Z"
              }
            ],
            "type": "array",
            "items": { "$ref": "#/components/schemas/CartItemDto" }
          },
          "count": {
            "type": "number",
            "description": "Total number of items in cart",
            "example": 1
          },
          "total": {
            "type": "number",
            "description": "Total price of all items in cart",
            "example": 200
          }
        },
        "required": ["items", "count", "total"]
      },
      "GetCartResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Customer cart loaded successfully"
          },
          "data": {
            "description": "Cart data containing items, count, and total price",
            "allOf": [{ "$ref": "#/components/schemas/CartDataDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "DeleteCartResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Product removed from cart successfully"
          },
          "data": {
            "type": "object",
            "properties": {
              "raw": { "type": "array", "items": { "type": "object" } },
              "affected": { "type": "number" }
            },
            "required": ["raw"]
          }
        },
        "required": ["message", "data"]
      },
      "AddCartDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The UUID of the product to add to cart",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "quantity": {
            "type": "number",
            "minimum": 1,
            "description": "The quantity of the product in the cart (must be a positive integer)",
            "example": 5
          }
        },
        "required": ["id"]
      },
      "CartResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Product added to cart successfully"
          },
          "data": {
            "description": "Cart item data",
            "allOf": [{ "$ref": "#/components/schemas/CartItemDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "AddQuantityDto": {
        "type": "object",
        "properties": {
          "quantity": {
            "type": "number",
            "minimum": 1,
            "description": "The quantity of the product in the cart (must be a positive integer)",
            "example": 5
          }
        },
        "required": ["quantity"]
      },
      "AddBulkCartItemDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "The UUID of the product to add to cart",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "quantity": {
            "type": "number",
            "minimum": 1,
            "description": "The quantity of the product in the cart (must be a positive integer)",
            "example": 3
          }
        },
        "required": ["productId", "quantity"]
      },
      "BulkAddCartDto": {
        "type": "object",
        "properties": {
          "items": {
            "minItems": 1,
            "description": "Array of cart items to add with their quantities",
            "example": [
              { "productId": "550e8400-e29b-41d4-a716-446655440000", "quantity": 2 },
              { "productId": "660e8400-e29b-41d4-a716-446655440001", "quantity": 5 }
            ],
            "type": "array",
            "items": { "$ref": "#/components/schemas/AddBulkCartItemDto" }
          }
        },
        "required": ["items"]
      },
      "BulkAddCartDataDto": {
        "type": "object",
        "properties": {
          "addedItems": {
            "description": "Array of successfully added cart items",
            "example": [
              {
                "id": "550e8400-e29b-41d4-a716-446655440000",
                "quantity": 2,
                "product": {
                  "id": "660e8400-e29b-41d4-a716-446655440001",
                  "name": "Premium Shea Butter",
                  "sku": "PRD-001",
                  "category": "SHEA_BUTTER",
                  "retail": 100,
                  "wholesale": 80,
                  "image": "https://example.com/image.jpg",
                  "images": ["https://example.com/image1.jpg"],
                  "status": "ACTIVE",
                  "favorite": false,
                  "rating": 4.5,
                  "reviews": 25
                },
                "createdAt": "2024-01-15T10:30:00.000Z",
                "updatedAt": "2024-01-15T10:30:00.000Z"
              }
            ],
            "type": "array",
            "items": { "$ref": "#/components/schemas/CartItemDto" }
          },
          "skippedItems": {
            "description": "Array of product IDs that were skipped (not found or invalid)",
            "example": ["770e8400-e29b-41d4-a716-446655440002"],
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["addedItems", "skippedItems"]
      },
      "BulkAddCartResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Success message with details about added and skipped items",
            "example": "Successfully added 5 item(s) to cart. 1 item(s) were skipped (not found or invalid)"
          },
          "data": {
            "description": "Details of added items and skipped items",
            "allOf": [{ "$ref": "#/components/schemas/BulkAddCartDataDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "AddToGuestCartDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "Session ID for guest user",
            "example": "guest-session-123"
          },
          "id": {
            "type": "string",
            "description": "The UUID of the product to add to cart",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "quantity": {
            "type": "number",
            "minimum": 1,
            "description": "The quantity of the product in the cart (must be a positive integer)",
            "example": 5
          }
        },
        "required": ["sessionId", "id"]
      },
      "UpdateGuestCartQuantityDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "Session ID for guest user",
            "example": "guest-session-123"
          },
          "quantity": {
            "type": "number",
            "minimum": 1,
            "description": "The new quantity for the cart item",
            "example": 3
          }
        },
        "required": ["sessionId", "quantity"]
      },
      "UserDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "email": { "type": "string" },
          "name": { "type": "string" },
          "password": { "type": "string" },
          "userType": { "type": "string" },
          "phoneNumber": { "type": "string" },
          "avatarUrl": { "type": "string" },
          "permissions": { "type": "string" },
          "mustChangePassword": { "type": "boolean" },
          "rememberToken": { "type": "string" },
          "status": { "type": "string" }
        },
        "required": [
          "id",
          "email",
          "name",
          "password",
          "userType",
          "phoneNumber",
          "avatarUrl",
          "permissions",
          "mustChangePassword",
          "rememberToken",
          "status"
        ]
      },
      "CustomerDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string" },
          "phone": { "type": "string" },
          "email": { "type": "string" },
          "address": { "type": "string" },
          "country": { "type": "string" },
          "region": { "type": "string" },
          "city": { "type": "string" },
          "phoneNumber": { "type": "string" },
          "extraInfo": { "type": "string" },
          "sales": { "type": "array", "items": { "$ref": "#/components/schemas/SaleDto" } },
          "user": { "$ref": "#/components/schemas/UserDto" },
          "createdAt": { "format": "date-time", "type": "string" },
          "updatedAt": { "format": "date-time", "type": "string" },
          "deletedAt": { "format": "date-time", "type": "string" }
        },
        "required": [
          "id",
          "name",
          "phone",
          "email",
          "address",
          "country",
          "region",
          "city",
          "phoneNumber",
          "extraInfo",
          "sales",
          "user",
          "createdAt",
          "updatedAt",
          "deletedAt"
        ]
      },
      "CartDto": {
        "type": "object",
        "properties": { "id": { "type": "string" } },
        "required": ["id"]
      },
      "CheckoutDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "sale": { "$ref": "#/components/schemas/SaleDto" },
          "carts": { "type": "array", "items": { "$ref": "#/components/schemas/CartDto" } },
          "amount": { "type": "number" },
          "paystackReference": { "type": "string" },
          "createdAt": { "format": "date-time", "type": "string" },
          "updatedAt": { "format": "date-time", "type": "string" },
          "deletedAt": { "format": "date-time", "type": "string" }
        },
        "required": [
          "id",
          "sale",
          "carts",
          "amount",
          "paystackReference",
          "createdAt",
          "updatedAt",
          "deletedAt"
        ]
      },
      "SaleLineItemDto": {
        "type": "object",
        "properties": {
          "productId": { "type": "string" },
          "batchAllocations": {
            "type": "object",
            "properties": { "batchId": { "type": "string" }, "quantity": { "type": "number" } },
            "required": []
          },
          "requestedQuantity": { "type": "number" },
          "customPrice": { "type": "number" },
          "finalPrice": { "type": "number" }
        },
        "required": ["productId", "batchAllocations", "requestedQuantity", "finalPrice"]
      },
      "SaleDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "customer": { "$ref": "#/components/schemas/CustomerDto" },
          "checkout": { "$ref": "#/components/schemas/CheckoutDto" },
          "orderStatus": {
            "enum": ["pending", "packaging", "in_transit", "delivered", "cancelled"],
            "type": "string"
          },
          "paymentStatus": {
            "enum": ["invoice_requested", "pending_payment", "paid", "refunded"],
            "type": "string"
          },
          "lineItems": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/SaleLineItemDto" }
          },
          "createdAt": { "format": "date-time", "type": "string" },
          "updatedAt": { "format": "date-time", "type": "string" },
          "deletedAt": { "format": "date-time", "type": "string" }
        },
        "required": [
          "id",
          "customer",
          "checkout",
          "orderStatus",
          "paymentStatus",
          "lineItems",
          "createdAt",
          "updatedAt",
          "deletedAt"
        ]
      },
      "OrdersPaginationDto": {
        "type": "object",
        "properties": {
          "totalItems": { "type": "number" },
          "currentPage": { "type": "number" },
          "totalPages": { "type": "number" },
          "orders": { "type": "array", "items": { "$ref": "#/components/schemas/CheckoutDto" } }
        },
        "required": ["totalItems", "currentPage", "totalPages", "orders"]
      },
      "InitializeTransactionDataDto": {
        "type": "object",
        "properties": {
          "authorization_url": { "type": "string" },
          "access_code": { "type": "string" },
          "reference": { "type": "string" }
        },
        "required": ["authorization_url", "access_code", "reference"]
      },
      "CheckoutsResponseDto": {
        "type": "object",
        "properties": {
          "message": { "type": "string" },
          "data": { "type": "array", "items": { "$ref": "#/components/schemas/CheckoutDto" } }
        },
        "required": ["message", "data"]
      },
      "CheckoutResponseDto": {
        "type": "object",
        "properties": {
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/CheckoutDto" }
        },
        "required": ["message", "data"]
      },
      "GetDeliveryCostDto": {
        "type": "object",
        "properties": {
          "country": { "type": "string", "description": "The country for delivery." },
          "city": { "type": "string", "description": "The city for delivery." },
          "region": { "type": "string", "description": "The region for delivery." }
        },
        "required": ["country", "city", "region"]
      },
      "DeliveryResponseDto": {
        "type": "object",
        "properties": { "message": { "type": "string" }, "data": { "type": "number" } },
        "required": ["message", "data"]
      },
      "OrdersPaginationResponseDto": {
        "type": "object",
        "properties": {
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/OrdersPaginationDto" }
        },
        "required": ["message", "data"]
      },
      "InitializeTransaction": {
        "type": "object",
        "properties": {
          "country": { "type": "string", "description": "Delivery country", "example": "Ghana" },
          "region": {
            "type": "string",
            "description": "Delivery state/region",
            "example": "Northern Region"
          },
          "city": { "type": "string", "description": "Delivery city/town", "example": "Tamale" },
          "phoneNumber": {
            "type": "string",
            "description": "Contact phone number for delivery (in case of issues)",
            "example": "+233244123456"
          },
          "extraInfo": {
            "type": "string",
            "description": "Additional information about the order (e.g., house number, landmarks)",
            "example": "House No. 123, near the market. Please call before delivery"
          }
        },
        "required": ["country", "region", "city", "phoneNumber"]
      },
      "InitializeTransactionResponseDto": {
        "type": "object",
        "properties": {
          "message": { "type": "string" },
          "status": { "type": "boolean" },
          "data": { "$ref": "#/components/schemas/InitializeTransactionDataDto" }
        },
        "required": ["message", "status", "data"]
      },
      "PlaceOrderDto": {
        "type": "object",
        "properties": {
          "country": { "type": "string", "description": "Delivery country", "example": "Ghana" },
          "region": {
            "type": "string",
            "description": "Delivery state/region",
            "example": "Northern Region"
          },
          "city": { "type": "string", "description": "Delivery city/town", "example": "Tamale" },
          "phoneNumber": {
            "type": "string",
            "description": "Contact phone number for delivery (in case of issues)",
            "example": "+233244123456"
          },
          "extraInfo": {
            "type": "string",
            "description": "Additional information about the order (e.g., house number, landmarks)",
            "example": "House No. 123, near the market. Please call before delivery"
          }
        },
        "required": ["country", "region", "city", "phoneNumber"]
      },
      "OrderStatus": {
        "type": "string",
        "enum": ["pending", "packaging", "in_transit", "delivered", "cancelled"]
      },
      "PaymentStatus": {
        "type": "string",
        "enum": ["invoice_requested", "pending_payment", "paid", "refunded"]
      },
      "UpdateSaleStatusDto": {
        "type": "object",
        "properties": {
          "orderStatus": {
            "enum": ["pending", "packaging", "in_transit", "delivered", "cancelled"],
            "type": "string"
          },
          "paymentStatus": {
            "enum": ["invoice_requested", "pending_payment", "paid", "refunded"],
            "type": "string"
          }
        }
      },
      "SaleResponseDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "Sale/Order ID", "example": "sale-uuid-123" },
          "customer": {
            "description": "Customer information",
            "allOf": [{ "$ref": "#/components/schemas/SaleCustomerDto" }]
          },
          "checkout": {
            "description": "Checkout information (null for admin-created orders)",
            "allOf": [{ "$ref": "#/components/schemas/SaleCheckoutDto" }]
          },
          "orderStatus": {
            "enum": ["pending", "packaging", "in_transit", "delivered", "cancelled"],
            "type": "string",
            "description": "Order status",
            "example": "pending"
          },
          "paymentStatus": {
            "enum": ["invoice_requested", "pending_payment", "paid", "refunded"],
            "type": "string",
            "description": "Payment status",
            "example": "paid"
          },
          "lineItems": {
            "description": "Line items in the sale",
            "type": "array",
            "items": { "$ref": "#/components/schemas/SaleLineItemResponseDto" }
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Sale creation date",
            "example": "2026-01-14T10:00:00Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Sale last update date",
            "example": "2026-01-14T10:30:00Z"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Sale deletion date (soft delete)",
            "example": null
          }
        },
        "required": [
          "id",
          "customer",
          "orderStatus",
          "paymentStatus",
          "lineItems",
          "createdAt",
          "updatedAt"
        ]
      },
      "UpdateDeliveryCostDto": {
        "type": "object",
        "properties": {
          "deliveryCost": {
            "type": "number",
            "minimum": 0,
            "description": "New delivery cost amount",
            "example": 150.5
          }
        },
        "required": ["deliveryCost"]
      },
      "GuestGetDeliveryCostDto": {
        "type": "object",
        "properties": {
          "sessionId": {
            "type": "string",
            "description": "Session ID for guest cart",
            "example": "guest-session-123"
          },
          "country": { "type": "string", "description": "Delivery country", "example": "Ghana" },
          "region": {
            "type": "string",
            "description": "Delivery state/region",
            "example": "Northern Region"
          },
          "city": { "type": "string", "description": "Delivery city/town", "example": "Tamale" }
        },
        "required": ["sessionId", "country", "region", "city"]
      },
      "GuestInitializeTransactionDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "Guest email address for order updates",
            "example": "guest@example.com"
          },
          "sessionId": {
            "type": "string",
            "description": "Session ID for guest cart",
            "example": "guest-session-123"
          },
          "country": { "type": "string", "description": "Delivery country", "example": "Ghana" },
          "region": {
            "type": "string",
            "description": "Delivery state/region",
            "example": "Northern Region"
          },
          "city": { "type": "string", "description": "Delivery city/town", "example": "Tamale" },
          "phoneNumber": {
            "type": "string",
            "description": "Contact phone number for delivery (in case of issues)",
            "example": "+233244123456"
          },
          "extraInfo": {
            "type": "string",
            "description": "Additional information about the order (e.g., house number, landmarks)",
            "example": "House No. 123, near the market. Please call before delivery"
          },
          "name": { "type": "string", "description": "Guest name", "example": "John Doe" }
        },
        "required": ["email", "sessionId", "country", "region", "city", "phoneNumber", "name"]
      },
      "GuestPlaceOrderDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "Guest email address for order updates",
            "example": "guest@example.com"
          },
          "sessionId": {
            "type": "string",
            "description": "Session ID for guest cart",
            "example": "guest-session-123"
          },
          "country": { "type": "string", "description": "Delivery country", "example": "Ghana" },
          "region": {
            "type": "string",
            "description": "Delivery state/region",
            "example": "Northern Region"
          },
          "city": { "type": "string", "description": "Delivery city/town", "example": "Tamale" },
          "phoneNumber": {
            "type": "string",
            "description": "Contact phone number for delivery (in case of issues)",
            "example": "+233244123456"
          },
          "extraInfo": {
            "type": "string",
            "description": "Additional information about the order (e.g., house number, landmarks)",
            "example": "House No. 123, near the market. Please call before delivery"
          },
          "name": { "type": "string", "description": "Guest name", "example": "John Doe" }
        },
        "required": ["email", "sessionId", "country", "region", "city", "phoneNumber", "name"]
      },
      "UploadResponseDto": {
        "type": "object",
        "properties": {
          "message": { "type": "string", "description": "Success message" },
          "data": { "type": "string", "description": "The URL of the uploaded image" }
        },
        "required": ["message", "data"]
      },
      "CreateSaleDto": {
        "type": "object",
        "properties": {
          "customerId": { "type": "string" },
          "orderStatus": {
            "default": "pending",
            "allOf": [{ "$ref": "#/components/schemas/OrderStatus" }]
          },
          "paymentStatus": {
            "default": "invoice_requested",
            "allOf": [{ "$ref": "#/components/schemas/PaymentStatus" }]
          },
          "lineItems": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/SaleLineItemDto" }
          }
        },
        "required": ["customerId", "lineItems"]
      },
      "SaleCustomerDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "Customer ID", "example": "customer-uuid-123" },
          "name": { "type": "string", "description": "Customer name", "example": "John Doe" },
          "phone": {
            "type": "string",
            "description": "Customer phone number",
            "example": "+233123456789"
          },
          "email": {
            "type": "string",
            "description": "Customer email address",
            "example": "john.doe@example.com"
          },
          "address": {
            "type": "string",
            "description": "Customer address",
            "example": "123 Main Street, Tamale"
          },
          "country": { "type": "string", "description": "Customer country", "example": "Ghana" },
          "region": { "type": "string", "description": "Customer region", "example": "Northern" },
          "city": { "type": "string", "description": "Customer city", "example": "Tamale" },
          "phoneNumber": {
            "type": "string",
            "description": "Additional phone number",
            "example": "+233987654321"
          },
          "extraInfo": {
            "type": "string",
            "description": "Extra customer information",
            "example": "VIP customer"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Customer creation date",
            "example": "2026-01-14T10:00:00Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Customer last update date",
            "example": "2026-01-14T10:30:00Z"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Customer deletion date (soft delete)",
            "example": null
          }
        },
        "required": ["id", "name", "createdAt", "updatedAt"]
      },
      "SaleCheckoutDto": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "description": "Checkout ID", "example": "checkout-uuid-123" },
          "amount": {
            "type": "number",
            "description": "Total checkout amount",
            "example": 500,
            "minimum": 0
          },
          "paystackReference": {
            "type": "string",
            "description": "Paystack payment reference",
            "example": "ref_xyz123"
          },
          "guestEmail": {
            "type": "string",
            "description": "Guest email (for guest checkouts)",
            "example": "guest@example.com"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Checkout creation date",
            "example": "2026-01-14T10:00:00Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Checkout last update date",
            "example": "2026-01-14T10:30:00Z"
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Checkout deletion date (soft delete)",
            "example": null
          }
        },
        "required": ["id", "amount", "createdAt", "updatedAt"]
      },
      "BatchAllocationDto": {
        "type": "object",
        "properties": {
          "batchId": { "type": "string", "description": "Batch ID", "example": "batch-uuid-123" },
          "quantity": {
            "type": "number",
            "description": "Quantity allocated from this batch",
            "example": 5,
            "minimum": 1
          }
        },
        "required": ["batchId", "quantity"]
      },
      "SaleLineItemResponseDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "Product ID",
            "example": "product-uuid-123"
          },
          "productName": {
            "type": "string",
            "description": "Product name",
            "example": "Premium Rice 50kg"
          },
          "category": { "type": "string", "description": "Product category", "example": "Grains" },
          "batchAllocations": {
            "description": "Batch allocations for this line item",
            "type": "array",
            "items": { "$ref": "#/components/schemas/BatchAllocationDto" }
          },
          "requestedQuantity": {
            "type": "number",
            "description": "Requested quantity",
            "example": 10,
            "minimum": 1
          },
          "customPrice": {
            "type": "number",
            "description": "Custom price per unit (if different from retail price)",
            "example": 45.5
          },
          "finalPrice": {
            "type": "number",
            "description": "Final price per unit used for calculation",
            "example": 50
          },
          "totalAmount": {
            "type": "number",
            "description": "Total amount for this line item",
            "example": 500
          }
        },
        "required": ["productId", "batchAllocations", "requestedQuantity", "finalPrice"]
      },
      "UpdateSaleLineItemDto": {
        "type": "object",
        "properties": {
          "productId": { "type": "string" },
          "batchAllocations": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/BatchAllocationDto" }
          },
          "requestedQuantity": { "type": "number" },
          "customPrice": { "type": "number" }
        }
      },
      "UpdateSaleDto": {
        "type": "object",
        "properties": {
          "customerId": { "type": "string" },
          "orderStatus": { "allOf": [{ "$ref": "#/components/schemas/OrderStatus" }] },
          "paymentStatus": { "allOf": [{ "$ref": "#/components/schemas/PaymentStatus" }] },
          "lineItems": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/UpdateSaleLineItemDto" }
          }
        }
      },
      "AddLineItemDto": {
        "type": "object",
        "properties": {
          "productId": { "type": "string" },
          "batchAllocations": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/BatchAllocationDto" }
          },
          "requestedQuantity": { "type": "number" },
          "customPrice": { "type": "number" }
        },
        "required": ["productId", "batchAllocations", "requestedQuantity"]
      },
      "AssignBatchesDto": {
        "type": "object",
        "properties": {
          "productId": { "type": "string" },
          "batchAllocations": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/BatchAllocationDto" }
          }
        },
        "required": ["productId", "batchAllocations"]
      },
      "TrackOrderResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Response message",
            "example": "Order tracked successfully"
          },
          "data": {
            "description": "Sale/Order data",
            "allOf": [{ "$ref": "#/components/schemas/SaleResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "SalePaginationDto": {
        "type": "object",
        "properties": {
          "totalItems": {
            "type": "number",
            "description": "Total number of items",
            "example": 100
          },
          "currentPage": { "type": "number", "description": "Current page number", "example": 1 },
          "totalPages": { "type": "number", "description": "Total number of pages", "example": 10 },
          "items": {
            "description": "Array of sale items",
            "type": "array",
            "items": { "$ref": "#/components/schemas/SaleResponseDto" }
          }
        },
        "required": ["totalItems", "currentPage", "totalPages", "items"]
      },
      "PaginatedSaleResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Response message",
            "example": "Sales loaded successfully"
          },
          "data": {
            "description": "Paginated data",
            "allOf": [{ "$ref": "#/components/schemas/SalePaginationDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "GenerateInvoiceDto": {
        "type": "object",
        "properties": {
          "discount": { "type": "number", "description": "Discount amount", "default": 0 },
          "transportation": { "type": "number", "description": "Transportation cost", "default": 0 }
        }
      },
      "GenerateReceiptDto": {
        "type": "object",
        "properties": {
          "paymentMethod": { "type": "string", "description": "Payment method", "default": "Cash" },
          "discount": { "type": "number", "description": "Discount amount", "default": 0 },
          "transportation": { "type": "number", "description": "Transportation cost", "default": 0 }
        }
      },
      "DriverDetailsDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "Driver name" },
          "vehicleNumber": { "type": "string", "description": "Vehicle/Truck number" },
          "phoneNumber": { "type": "string", "description": "Driver phone number" },
          "email": { "type": "string", "format": "email", "description": "Driver email" }
        },
        "required": ["name", "vehicleNumber", "phoneNumber"]
      },
      "ReceiverDetailsDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "Receiver name" },
          "phone": { "type": "string", "description": "Receiver phone number" },
          "email": { "type": "string", "format": "email", "description": "Receiver email" },
          "address": { "type": "string", "description": "Receiver address" }
        },
        "required": ["name", "phone"]
      },
      "GenerateWaybillDto": {
        "type": "object",
        "properties": {
          "driver": {
            "description": "Driver details",
            "allOf": [{ "$ref": "#/components/schemas/DriverDetailsDto" }]
          },
          "receiver": {
            "description": "Receiver details (falls back to customer if not provided)",
            "allOf": [{ "$ref": "#/components/schemas/ReceiverDetailsDto" }]
          },
          "remarks": {
            "type": "string",
            "description": "Remarks about the condition of goods",
            "default": "All In Good Condition"
          }
        },
        "required": ["driver"]
      },
      "CreateCustomerDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 200,
            "description": "The name of the customer",
            "example": "John Doe"
          },
          "phone": {
            "type": "string",
            "description": "The phone number of the customer",
            "example": "+233123456789"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "The email address of the customer",
            "example": "john.doe@example.com"
          },
          "address": {
            "type": "string",
            "description": "The address of the customer",
            "example": "123 Main St, Accra"
          }
        },
        "required": ["name"]
      },
      "UpdateCustomerDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the customer to update",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "name": {
            "type": "string",
            "minLength": 1,
            "maxLength": 200,
            "description": "The name of the customer",
            "example": "John Doe"
          },
          "phone": {
            "type": "string",
            "description": "The phone number of the customer",
            "example": "+233123456789"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "The email address of the customer",
            "example": "john.doe@example.com"
          },
          "address": {
            "type": "string",
            "description": "The address of the customer",
            "example": "123 Main St, Accra"
          }
        },
        "required": ["id"]
      },
      "ProfileResponseDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "User ID",
            "example": "123e4567-e89b-12d3-a456-426614174000"
          },
          "name": { "type": "string", "description": "Full name", "example": "John Doe" },
          "email": {
            "type": "string",
            "description": "Email address",
            "example": "john.doe@maltitiaenterprise.com"
          },
          "phone": { "type": "string", "description": "Phone number", "example": "+1234567890" },
          "avatarUrl": {
            "type": "string",
            "description": "Profile avatar URL",
            "example": "https://example.com/avatars/user.jpg"
          },
          "userType": {
            "enum": ["user", "admin", "superadmin"],
            "type": "string",
            "description": "User role (read-only)",
            "example": "admin"
          },
          "emailVerifiedAt": {
            "type": "string",
            "description": "Email verification status (read-only)",
            "example": true
          },
          "phoneVerifiedAt": {
            "type": "string",
            "description": "Phone verification status (read-only)",
            "example": true
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Account creation date (read-only)",
            "example": "2023-12-24T10:00:00Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Last update date (read-only)",
            "example": "2023-12-24T12:00:00Z"
          }
        },
        "required": [
          "id",
          "name",
          "email",
          "userType",
          "emailVerifiedAt",
          "phoneVerifiedAt",
          "createdAt",
          "updatedAt"
        ]
      },
      "ProfileResponseWrapperDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Response message",
            "example": "Profile retrieved successfully"
          },
          "data": {
            "description": "Profile data",
            "allOf": [{ "$ref": "#/components/schemas/ProfileResponseDto" }]
          }
        },
        "required": ["message", "data"]
      },
      "UpdateProfileDto": {
        "type": "object",
        "properties": {
          "name": { "type": "string", "description": "Full name", "example": "John Doe" },
          "phone": { "type": "string", "description": "Phone number", "example": "+1234567890" }
        }
      },
      "AvatarUploadResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Response message",
            "example": "Profile picture uploaded successfully"
          },
          "data": {
            "type": "string",
            "description": "Avatar URL",
            "example": "https://example.com/avatars/user.jpg"
          }
        },
        "required": ["message", "data"]
      },
      "ContactUsDto": {
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string",
            "description": "Full name of the person contacting",
            "example": "John Doe"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address of the person contacting",
            "example": "john.doe@example.com"
          },
          "phoneNumber": {
            "type": "string",
            "description": "Phone number of the person contacting (accepts international formats)",
            "example": "+233244123456"
          },
          "message": {
            "type": "string",
            "minLength": 10,
            "description": "Message content (minimum 10 characters)",
            "example": "I would like to inquire about your shea butter products and pricing."
          },
          "website": { "type": "string" }
        },
        "required": ["message"]
      },
      "ContactUsSuccessResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates if the operation was successful",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "Success message",
            "example": "Your message has been sent successfully."
          }
        },
        "required": ["success", "message"]
      },
      "ContactUsErrorResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates if the operation was successful",
            "example": false
          },
          "error": {
            "type": "string",
            "description": "Error message",
            "example": "Message is required."
          }
        },
        "required": ["success", "error"]
      }
    }
  }
}
